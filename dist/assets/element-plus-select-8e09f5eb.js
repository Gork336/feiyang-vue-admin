import{d as Be,c as b,o as T,j as x,k as te,J as Ue,Q as C,u as h,Y as pe,X as J,T as Se,a6 as ce,a1 as ve,_ as Te,a7 as tl,v as zt,ah as Ft,w as ze,q as Ot,O as it,P as kt,t as Bl,U as se,a4 as ot,a5 as Yt,a0 as Ie,x as F,r as It,S as pl,B as Ol,n as Je,ai as Et,i as ml,aj as _t,b as ft,e as wt,G as vl,ak as gn,al as qe,am as ll,F as nt,af as bt,ag as ye,an as Nl,ao as bn,Z as at,h as Ye,R as yn,l as Pl,K as Il,a as Lt,ap as Sn,aq as wn}from"./@vue-0f0723f7.js";import{b as Bt,c as Cn,u as hl,a as Ae,d as Tl,E as Kt,_ as rt,w as Fl,e as Kl,f as Zt,g as On,h as Wl,i as Hl,j as Pe,k as In,l as nl,U as xe,s as Tn,m as ql,C as Xt,n as Mn,o as Vn,p as Gl,q as Ul,r as jl,t as Ql,v as Ml,x as Yl,y as En,z as Zl,A as Ln,B as Xl,D as gl,F as zn,G as bl,H as pt,I as yt,J as kn,K as Rn,L as $n,M as Jl,N as An,V as Dn}from"./element-plus-date-1adbe3a1.js";import{g as me,d as Wt,e as ol,m as Bn,i as Vl}from"./lodash-f24e05a6.js";const xl=Bt({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Cn,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Nn={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Pn=Be({name:"ElTag"}),Fn=Be({...Pn,props:xl,emits:Nn,setup(e,{emit:t}){const l=e,o=hl(),a=Ae("tag"),s=b(()=>{const{type:p,hit:g,effect:d,closable:m,round:f}=l;return[a.b(),a.is("closable",m),a.m(p),a.m(o.value),a.m(d),a.is("hit",g),a.is("round",f)]}),i=p=>{t("close",p)},n=p=>{t("click",p)};return(p,g)=>p.disableTransitions?(T(),x("span",{key:0,class:C(h(s)),style:Te({backgroundColor:p.color}),onClick:n},[te("span",{class:C(h(a).e("content"))},[Ue(p.$slots,"default")],2),p.closable?(T(),pe(h(Kt),{key:0,class:C(h(a).e("close")),onClick:ce(i,["stop"])},{default:J(()=>[Se(h(Tl))]),_:1},8,["class","onClick"])):ve("v-if",!0)],6)):(T(),pe(tl,{key:1,name:`${h(a).namespace.value}-zoom-in-center`,appear:""},{default:J(()=>[te("span",{class:C(h(s)),style:Te({backgroundColor:p.color}),onClick:n},[te("span",{class:C(h(a).e("content"))},[Ue(p.$slots,"default")],2),p.closable?(T(),pe(h(Kt),{key:0,class:C(h(a).e("close")),onClick:ce(i,["stop"])},{default:J(()=>[Se(h(Tl))]),_:1},8,["class","onClick"])):ve("v-if",!0)],6)]),_:3},8,["name"]))}});var Kn=rt(Fn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const _l=Fl(Kn),en=Symbol("ElSelectGroup"),Jt=Symbol("ElSelect");function Wn(e,t){const l=zt(Jt),o=zt(en,{disabled:!1}),a=b(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),s=b(()=>l.props.multiple?m(l.props.modelValue,e.value):f(e.value,l.props.modelValue)),i=b(()=>{if(l.props.multiple){const r=l.props.modelValue||[];return!s.value&&r.length>=l.props.multipleLimit&&l.props.multipleLimit>0}else return!1}),n=b(()=>e.label||(a.value?"":e.value)),p=b(()=>e.value||e.label||""),g=b(()=>e.disabled||t.groupDisabled||i.value),d=Ot(),m=(r=[],A)=>{if(a.value){const L=l.props.valueKey;return r&&r.some(U=>Ft(me(U,L))===me(A,L))}else return r&&r.includes(A)},f=(r,A)=>{if(a.value){const{valueKey:L}=l.props;return me(r,L)===me(A,L)}else return r===A},$=()=>{!e.disabled&&!o.disabled&&(l.hoverIndex=l.optionsArray.indexOf(d.proxy))};ze(()=>n.value,()=>{!e.created&&!l.props.remote&&l.setSelected()}),ze(()=>e.value,(r,A)=>{const{remote:L,valueKey:U}=l.props;if(Object.is(r,A)||(l.onOptionDestroy(A,d.proxy),l.onOptionCreate(d.proxy)),!e.created&&!L){if(U&&typeof r=="object"&&typeof A=="object"&&r[U]===A[U])return;l.setSelected()}}),ze(()=>o.disabled,()=>{t.groupDisabled=o.disabled},{immediate:!0});const{queryChange:G}=Ft(l);return ze(G,r=>{const{query:A}=h(r),L=new RegExp(Kl(A),"i");t.visible=L.test(n.value)||e.created,t.visible||l.filteredOptionsCount--},{immediate:!0}),{select:l,currentLabel:n,currentValue:p,itemSelected:s,isDisabled:g,hoverItem:$}}const Hn=Be({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=Ae("select"),l=b(()=>[t.be("dropdown","item"),t.is("disabled",h(i)),{selected:h(s),hover:h(d)}]),o=it({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:s,isDisabled:i,select:n,hoverItem:p}=Wn(e,o),{visible:g,hover:d}=kt(o),m=Ot().proxy;n.onOptionCreate(m),Bl(()=>{const $=m.value,{selected:G}=n,A=(n.props.multiple?G:[G]).some(L=>L.value===m.value);se(()=>{n.cachedOptions.get($)===m&&!A&&n.cachedOptions.delete($)}),n.onOptionDestroy($,m)});function f(){e.disabled!==!0&&o.groupDisabled!==!0&&n.handleOptionSelect(m)}return{ns:t,containerKls:l,currentLabel:a,itemSelected:s,isDisabled:i,select:n,hoverItem:p,visible:g,hover:d,selectOptionClick:f,states:o}}});function qn(e,t,l,o,a,s){return ot((T(),x("li",{class:C(e.containerKls),onMouseenter:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=ce((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[Ue(e.$slots,"default",{},()=>[te("span",null,Ie(e.currentLabel),1)])],34)),[[Yt,e.visible]])}var yl=rt(Hn,[["render",qn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Gn=Be({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=zt(Jt),t=Ae("select"),l=b(()=>e.props.popperClass),o=b(()=>e.props.multiple),a=b(()=>e.props.fitInputWidth),s=F("");function i(){var n;s.value=`${(n=e.selectWrapper)==null?void 0:n.offsetWidth}px`}return It(()=>{i(),pl(e.selectWrapper,i)}),{ns:t,minWidth:s,popperClass:l,isMultiple:o,isFitInputWidth:a}}});function Un(e,t,l,o,a,s){return T(),x("div",{class:C([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Te({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[Ue(e.$slots,"default")],6)}var jn=rt(Gn,[["render",Un],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Qn(e){const{t}=Zt();return it({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1})}let el=!1;const Yn=(e,t,l)=>{const{t:o}=Zt(),a=Ae("select");On({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},b(()=>e.suffixTransition===!1));const s=F(null),i=F(null),n=F(null),p=F(null),g=F(null),d=F(null),m=F(null),f=F(null),$=F(-1),G=Ol({query:""}),r=Ol(""),A=F([]);let L=0;const{form:U,formItem:ue}=Wl(),N=b(()=>!e.filterable||e.multiple||!t.visible),oe=b(()=>e.disabled||(U==null?void 0:U.disabled)),z=b(()=>{const c=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!oe.value&&t.inputHovering&&c}),ee=b(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),M=b(()=>a.is("reverse",ee.value&&t.visible&&e.suffixTransition)),R=b(()=>e.remote?300:0),w=b(()=>e.loading?e.loadingText||o("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||o("el.select.noMatch"):t.options.size===0?e.noDataText||o("el.select.noData"):null),K=b(()=>{const c=Array.from(t.options.values()),v=[];return A.value.forEach(S=>{const P=c.findIndex(be=>be.currentLabel===S);P>-1&&v.push(c[P])}),v.length?v:c}),Y=b(()=>Array.from(t.cachedOptions.values())),re=b(()=>{const c=K.value.filter(v=>!v.created).some(v=>v.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!c}),de=hl(),Me=b(()=>["small"].includes(de.value)?"small":"default"),he=b({get(){return t.visible&&w.value!==!1},set(c){t.visible=c}});ze([()=>oe.value,()=>de.value,()=>U==null?void 0:U.size],()=>{se(()=>{le()})}),ze(()=>e.placeholder,c=>{t.cachedPlaceHolder=t.currentPlaceholder=c,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),ze(()=>e.modelValue,(c,v)=>{e.multiple&&(le(),c&&c.length>0||i.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",ae(t.query))),$e(),e.filterable&&!e.multiple&&(t.inputLength=20),!Wt(c,v)&&e.validateEvent&&(ue==null||ue.validate("change").catch(S=>Hl()))},{flush:"post",deep:!0}),ze(()=>t.visible,c=>{var v,S,P,be,Oe;c?((S=(v=p.value)==null?void 0:v.updatePopper)==null||S.call(v),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(be=(P=n.value)==null?void 0:P.focus)==null||be.call(P),e.multiple?(Oe=i.value)==null||Oe.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),ae(t.query),!e.multiple&&!e.remote&&(G.value.query="",Et(G),Et(r)))):(e.filterable&&(Je(e.filterMethod)&&e.filterMethod(""),Je(e.remoteMethod)&&e.remoteMethod("")),i.value&&i.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,I(),se(()=>{i.value&&i.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),l.emit("visible-change",c)}),ze(()=>t.options.entries(),()=>{var c,v,S;if(!ml)return;(v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c),e.multiple&&le();const P=((S=m.value)==null?void 0:S.querySelectorAll("input"))||[];Array.from(P).includes(document.activeElement)||$e(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Ve()},{flush:"post"}),ze(()=>t.hoverIndex,c=>{Pe(c)&&c>-1?$.value=K.value[c]||{}:$.value={},K.value.forEach(v=>{v.hover=$.value===v})});const le=()=>{se(()=>{var c,v;if(!s.value)return;const S=s.value.$el.querySelector("input");L=L||(S.clientHeight>0?S.clientHeight+2:0);const P=d.value,be=In(de.value||(U==null?void 0:U.size)),Oe=de.value||be===L||L<=0?be:L;!(S.offsetParent===null)&&(S.style.height=`${(t.selected.length===0?Oe:Math.max(P?P.clientHeight+(P.clientHeight>Oe?6:0):0,Oe))-2}px`),t.visible&&w.value!==!1&&((v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c))})},ae=async c=>{if(!(t.previousQuery===c||t.isOnComposition)){if(t.previousQuery===null&&(Je(e.filterMethod)||Je(e.remoteMethod))){t.previousQuery=c;return}t.previousQuery=c,se(()=>{var v,S;t.visible&&((S=(v=p.value)==null?void 0:v.updatePopper)==null||S.call(v))}),t.hoverIndex=-1,e.multiple&&e.filterable&&se(()=>{const v=i.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,v):v,Re(),le()}),e.remote&&Je(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(c)):Je(e.filterMethod)?(e.filterMethod(c),Et(r)):(t.filteredOptionsCount=t.optionsCount,G.value.query=c,Et(G),Et(r)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await se(),Ve())}},Re=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=i.value.value?"":t.cachedPlaceHolder)},Ve=()=>{const c=K.value.filter(P=>P.visible&&!P.disabled&&!P.states.groupDisabled),v=c.find(P=>P.created),S=c[0];t.hoverIndex=et(K.value,v||S)},$e=()=>{var c;if(e.multiple)t.selectedLabel="";else{const S=Ee(e.modelValue);(c=S.props)!=null&&c.created?(t.createdLabel=S.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=S.currentLabel,t.selected=S,e.filterable&&(t.query=t.selectedLabel);return}const v=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(S=>{v.push(Ee(S))}),t.selected=v,se(()=>{le()})},Ee=c=>{let v;const S=_t(c).toLowerCase()==="object",P=_t(c).toLowerCase()==="null",be=_t(c).toLowerCase()==="undefined";for(let y=t.cachedOptions.size-1;y>=0;y--){const E=Y.value[y];if(S?me(E.value,e.valueKey)===me(c,e.valueKey):E.value===c){v={value:c,currentLabel:E.currentLabel,isDisabled:E.isDisabled};break}}if(v)return v;const Oe=S?c.label:!P&&!be?c:"",u={value:c,currentLabel:Oe};return e.multiple&&(u.hitState=!1),u},I=()=>{setTimeout(()=>{const c=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(v=>K.value.findIndex(S=>me(S,c)===me(v,c)))):t.hoverIndex=-1:t.hoverIndex=K.value.findIndex(v=>Ze(v)===Ze(t.selected))},300)},q=()=>{var c,v;H(),(v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c),e.multiple&&le()},H=()=>{var c;t.inputWidth=(c=s.value)==null?void 0:c.$el.offsetWidth},fe=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,ae(t.query))},Z=ol(()=>{fe()},R.value),ie=ol(c=>{ae(c.target.value)},R.value),ne=c=>{Wt(e.modelValue,c)||l.emit(Xt,c)},we=c=>{if(c.code!==nl.delete){if(c.target.value.length<=0&&!B()){const v=e.modelValue.slice();v.pop(),l.emit(xe,v),ne(v)}c.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},De=(c,v)=>{const S=t.selected.indexOf(v);if(S>-1&&!oe.value){const P=e.modelValue.slice();P.splice(S,1),l.emit(xe,P),ne(P),l.emit("remove-tag",v.value)}c.stopPropagation()},je=c=>{c.stopPropagation();const v=e.multiple?[]:"";if(!wt(v))for(const S of t.selected)S.isDisabled&&v.push(S.value);l.emit(xe,v),ne(v),t.hoverIndex=-1,t.visible=!1,l.emit("clear")},Fe=c=>{var v;if(e.multiple){const S=(e.modelValue||[]).slice(),P=et(S,c.value);P>-1?S.splice(P,1):(e.multipleLimit<=0||S.length<e.multipleLimit)&&S.push(c.value),l.emit(xe,S),ne(S),c.created&&(t.query="",ae(""),t.inputLength=20),e.filterable&&((v=i.value)==null||v.focus())}else l.emit(xe,c.value),ne(c.value),t.visible=!1;tt(),!t.visible&&se(()=>{Ke(c)})},et=(c=[],v)=>{if(!ft(v))return c.indexOf(v);const S=e.valueKey;let P=-1;return c.some((be,Oe)=>Ft(me(be,S))===me(v,S)?(P=Oe,!0):!1),P},tt=()=>{const c=i.value||s.value;c&&(c==null||c.focus())},Ke=c=>{var v,S,P,be,Oe;const u=Array.isArray(c)?c[0]:c;let y=null;if(u!=null&&u.value){const E=K.value.filter(Q=>Q.value===u.value);E.length>0&&(y=E[0].$el)}if(p.value&&y){const E=(be=(P=(S=(v=p.value)==null?void 0:v.popperRef)==null?void 0:S.contentRef)==null?void 0:P.querySelector)==null?void 0:be.call(P,`.${a.be("dropdown","wrap")}`);E&&Tn(E,y)}(Oe=f.value)==null||Oe.handleScroll()},O=c=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(c.value,c),t.cachedOptions.set(c.value,c)},V=(c,v)=>{t.options.get(c)===v&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(c))},k=c=>{c.code!==nl.backspace&&B(!1),t.inputLength=i.value.value.length*15+20,le()},B=c=>{if(!Array.isArray(t.selected))return;const v=t.selected[t.selected.length-1];if(v)return c===!0||c===!1?(v.hitState=c,c):(v.hitState=!v.hitState,v.hitState)},W=c=>{const v=c.target.value;if(c.type==="compositionend")t.isOnComposition=!1,se(()=>ae(v));else{const S=v[v.length-1]||"";t.isOnComposition=!ql(S)}},D=()=>{se(()=>Ke(t.selected))},j=c=>{el?el=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),l.emit("focus",c))},X=()=>{var c,v,S;t.visible=!1,(c=s.value)==null||c.blur(),(S=(v=n.value)==null?void 0:v.blur)==null||S.call(v)},_=c=>{setTimeout(()=>{var v;if((v=p.value)!=null&&v.isFocusInsideContent()){el=!0;return}t.visible&&ke(),l.emit("blur",c)})},ge=c=>{je(c)},ke=()=>{t.visible=!1},Ce=c=>{t.visible&&(c.preventDefault(),c.stopPropagation(),t.visible=!1)},Le=c=>{var v;c&&!t.mouseEnter||oe.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!p.value||!p.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((v=i.value||s.value)==null||v.focus()))},st=()=>{t.visible?K.value[t.hoverIndex]&&Fe(K.value[t.hoverIndex]):Le()},Ze=c=>ft(c.value)?me(c.value,e.valueKey):c.value,mt=b(()=>K.value.filter(c=>c.visible).every(c=>c.disabled)),Tt=b(()=>t.selected.slice(0,e.maxCollapseTags)),Xe=b(()=>t.selected.slice(e.maxCollapseTags)),ut=c=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!mt.value){c==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):c==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const v=K.value[t.hoverIndex];(v.disabled===!0||v.states.groupDisabled===!0||!v.visible)&&ut(c),se(()=>Ke($.value))}};return{optionList:A,optionsArray:K,selectSize:de,handleResize:q,debouncedOnInputChange:Z,debouncedQueryChange:ie,deletePrevTag:we,deleteTag:De,deleteSelected:je,handleOptionSelect:Fe,scrollToOption:Ke,readonly:N,resetInputHeight:le,showClose:z,iconComponent:ee,iconReverse:M,showNewOption:re,collapseTagSize:Me,setSelected:$e,managePlaceholder:Re,selectDisabled:oe,emptyText:w,toggleLastOptionHitState:B,resetInputState:k,handleComposition:W,onOptionCreate:O,onOptionDestroy:V,handleMenuEnter:D,handleFocus:j,blur:X,handleBlur:_,handleClearClick:ge,handleClose:ke,handleKeydownEscape:Ce,toggleMenu:Le,selectOption:st,getValueKey:Ze,navigateOptions:ut,handleDeleteTooltipTag:(c,v)=>{var S,P;De(c,v),(P=(S=g.value)==null?void 0:S.updatePopper)==null||P.call(S)},dropMenuVisible:he,queryChange:G,groupQueryChange:r,showTagList:Tt,collapseTagList:Xe,reference:s,input:i,iOSInput:n,tooltipRef:p,tagTooltipRef:g,tags:d,selectWrapper:m,scrollbar:f,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var Zn=Be({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:l}){let o=[];function a(s,i){if(s.length!==i.length)return!1;for(const[n]of s.entries())if(s[n]!=i[n])return!1;return!0}return()=>{var s,i;const n=(s=t.default)==null?void 0:s.call(t),p=[];function g(d){Array.isArray(d)&&d.forEach(m=>{var f,$,G,r;const A=(f=(m==null?void 0:m.type)||{})==null?void 0:f.name;A==="ElOptionGroup"?g(!wt(m.children)&&!Array.isArray(m.children)&&Je(($=m.children)==null?void 0:$.default)?(G=m.children)==null?void 0:G.default():m.children):A==="ElOption"?p.push((r=m.props)==null?void 0:r.label):Array.isArray(m.children)&&g(m.children)})}return n.length&&g((i=n[0])==null?void 0:i.children),a(p,o)||(o=p,l("update-options",p)),n}}});const El="ElSelect",Xn=Be({name:El,componentName:El,components:{ElInput:Mn,ElSelectMenu:jn,ElOption:yl,ElOptions:Zn,ElTag:_l,ElScrollbar:Vn,ElTooltip:Gl,ElIcon:Kt},directives:{ClickOutside:Ul},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:jl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Ql.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ml,default:Yl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Ml,default:En},tagType:{...xl.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Zl,default:"bottom-start"}},emits:[xe,Xt,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const l=Ae("select"),o=Ae("input"),{t:a}=Zt(),s=Qn(e),{optionList:i,optionsArray:n,selectSize:p,readonly:g,handleResize:d,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:$,deletePrevTag:G,deleteTag:r,deleteSelected:A,handleOptionSelect:L,scrollToOption:U,setSelected:ue,resetInputHeight:N,managePlaceholder:oe,showClose:z,selectDisabled:ee,iconComponent:M,iconReverse:R,showNewOption:w,emptyText:K,toggleLastOptionHitState:Y,resetInputState:re,handleComposition:de,onOptionCreate:Me,onOptionDestroy:he,handleMenuEnter:le,handleFocus:ae,blur:Re,handleBlur:Ve,handleClearClick:$e,handleClose:Ee,handleKeydownEscape:I,toggleMenu:q,selectOption:H,getValueKey:fe,navigateOptions:Z,handleDeleteTooltipTag:ie,dropMenuVisible:ne,reference:we,input:De,iOSInput:je,tooltipRef:Fe,tagTooltipRef:et,tags:tt,selectWrapper:Ke,scrollbar:O,queryChange:V,groupQueryChange:k,handleMouseEnter:B,handleMouseLeave:W,showTagList:D,collapseTagList:j}=Yn(e,s,t),{focus:X}=Ln(we),{inputWidth:_,selected:ge,inputLength:ke,filteredOptionsCount:Ce,visible:Le,selectedLabel:st,hoverIndex:Ze,query:mt,inputHovering:Tt,currentPlaceholder:Xe,menuVisibleOnFocus:ut,isOnComposition:Nt,options:Qe,cachedOptions:Mt,optionsCount:c,prefixWidth:v}=kt(s),S=b(()=>{const Ne=[l.b()],ct=h(p);return ct&&Ne.push(l.m(ct)),e.disabled&&Ne.push(l.m("disabled")),Ne}),P=b(()=>[l.e("tags"),l.is("disabled",h(ee))]),be=b(()=>[l.b("tags-wrapper"),{"has-prefix":h(v)&&h(ge).length}]),Oe=b(()=>[l.e("input"),l.is(h(p)),l.is("disabled",h(ee))]),u=b(()=>[l.e("input"),l.is(h(p)),l.em("input","iOS")]),y=b(()=>[l.is("empty",!e.allowCreate&&!!h(mt)&&h(Ce)===0)]),E=b(()=>({maxWidth:`${h(_)-32}px`,width:"100%"})),Q=b(()=>({maxWidth:`${h(_)>123?h(_)-123:h(_)-75}px`})),We=b(()=>({marginLeft:`${h(v)}px`,flexGrow:1,width:`${h(ke)/(h(_)-32)}%`,maxWidth:`${h(_)-42}px`}));vl(Jt,it({props:e,options:Qe,optionsArray:n,cachedOptions:Mt,optionsCount:c,filteredOptionsCount:Ce,hoverIndex:Ze,handleOptionSelect:L,onOptionCreate:Me,onOptionDestroy:he,selectWrapper:Ke,selected:ge,setSelected:ue,queryChange:V,groupQueryChange:k})),It(()=>{s.cachedPlaceHolder=Xe.value=e.placeholder||(()=>a("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Xe.value=""),pl(Ke,d),e.remote&&e.multiple&&N(),se(()=>{const Ne=we.value&&we.value.$el;if(Ne&&(_.value=Ne.getBoundingClientRect().width,t.slots.prefix)){const ct=Ne.querySelector(`.${o.e("prefix")}`);v.value=Math.max(ct.getBoundingClientRect().width+11,30)}}),ue()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(xe,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(xe,"");const He=b(()=>{var Ne,ct;return(ct=(Ne=Fe.value)==null?void 0:Ne.popperRef)==null?void 0:ct.contentRef});return{isIOS:gn,onOptionsRendered:Ne=>{i.value=Ne},prefixWidth:v,selectSize:p,readonly:g,handleResize:d,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:$,deletePrevTag:G,deleteTag:r,handleDeleteTooltipTag:ie,deleteSelected:A,handleOptionSelect:L,scrollToOption:U,inputWidth:_,selected:ge,inputLength:ke,filteredOptionsCount:Ce,visible:Le,selectedLabel:st,hoverIndex:Ze,query:mt,inputHovering:Tt,currentPlaceholder:Xe,menuVisibleOnFocus:ut,isOnComposition:Nt,options:Qe,resetInputHeight:N,managePlaceholder:oe,showClose:z,selectDisabled:ee,iconComponent:M,iconReverse:R,showNewOption:w,emptyText:K,toggleLastOptionHitState:Y,resetInputState:re,handleComposition:de,handleMenuEnter:le,handleFocus:ae,blur:Re,handleBlur:Ve,handleClearClick:$e,handleClose:Ee,handleKeydownEscape:I,toggleMenu:q,selectOption:H,getValueKey:fe,navigateOptions:Z,dropMenuVisible:ne,focus:X,reference:we,input:De,iOSInput:je,tooltipRef:Fe,popperPaneRef:He,tags:tt,selectWrapper:Ke,scrollbar:O,wrapperKls:S,tagsKls:P,tagWrapperKls:be,inputKls:Oe,iOSInputKls:u,scrollbarKls:y,selectTagsStyle:E,nsSelect:l,tagTextStyle:Q,inputStyle:We,handleMouseEnter:B,handleMouseLeave:W,showTagList:D,collapseTagList:j,tagTooltipRef:et}}}),Jn=["disabled","autocomplete"],xn=["disabled"],_n={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function eo(e,t,l,o,a,s){const i=qe("el-tag"),n=qe("el-tooltip"),p=qe("el-icon"),g=qe("el-input"),d=qe("el-option"),m=qe("el-options"),f=qe("el-scrollbar"),$=qe("el-select-menu"),G=ll("click-outside");return ot((T(),x("div",{ref:"selectWrapper",class:C(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...r)=>e.handleMouseEnter&&e.handleMouseEnter(...r)),onMouseleave:t[22]||(t[22]=(...r)=>e.handleMouseLeave&&e.handleMouseLeave(...r)),onClick:t[23]||(t[23]=ce((...r)=>e.toggleMenu&&e.toggleMenu(...r),["stop"]))},[Se(n,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:J(()=>[te("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=r=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=r=>e.inputHovering=!1)},[e.multiple?(T(),x("div",{key:0,ref:"tags",class:C(e.tagsKls),style:Te(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(T(),pe(tl,{key:0,onAfterLeave:e.resetInputHeight},{default:J(()=>[te("span",{class:C(e.tagWrapperKls)},[(T(!0),x(nt,null,bt(e.showTagList,r=>(T(),pe(i,{key:e.getValueKey(r),closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,hit:r.hitState,type:e.tagType,"disable-transitions":"",onClose:A=>e.deleteTag(A,r)},{default:J(()=>[te("span",{class:C(e.nsSelect.e("tags-text")),style:Te(e.tagTextStyle)},Ie(r.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(T(),pe(i,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:J(()=>[e.collapseTagsTooltip?(T(),pe(n,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:J(()=>[te("span",{class:C(e.nsSelect.e("tags-text"))},"+ "+Ie(e.selected.length-e.maxCollapseTags),3)]),content:J(()=>[te("div",{class:C(e.nsSelect.e("collapse-tags"))},[(T(!0),x(nt,null,bt(e.collapseTagList,r=>(T(),x("div",{key:e.getValueKey(r),class:C(e.nsSelect.e("collapse-tag"))},[Se(i,{class:"in-tooltip",closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,hit:r.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:A=>e.handleDeleteTooltipTag(A,r)},{default:J(()=>[te("span",{class:C(e.nsSelect.e("tags-text")),style:Te({maxWidth:e.inputWidth-75+"px"})},Ie(r.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(T(),x("span",{key:1,class:C(e.nsSelect.e("tags-text"))},"+ "+Ie(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):ve("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):ve("v-if",!0),e.collapseTags?ve("v-if",!0):(T(),pe(tl,{key:1,onAfterLeave:e.resetInputHeight},{default:J(()=>[te("span",{class:C(e.tagWrapperKls),style:Te(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(T(!0),x(nt,null,bt(e.selected,r=>(T(),pe(i,{key:e.getValueKey(r),closable:!e.selectDisabled&&!r.isDisabled,size:e.collapseTagSize,hit:r.hitState,type:e.tagType,"disable-transitions":"",onClose:A=>e.deleteTag(A,r)},{default:J(()=>[te("span",{class:C(e.nsSelect.e("tags-text")),style:Te({maxWidth:e.inputWidth-75+"px"})},Ie(r.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?ot((T(),x("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=r=>e.query=r),type:"text",class:C(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Te(e.inputStyle),onFocus:t[1]||(t[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onBlur:t[2]||(t[2]=(...r)=>e.handleBlur&&e.handleBlur(...r)),onKeyup:t[3]||(t[3]=(...r)=>e.managePlaceholder&&e.managePlaceholder(...r)),onKeydown:[t[4]||(t[4]=(...r)=>e.resetInputState&&e.resetInputState(...r)),t[5]||(t[5]=ye(ce(r=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=ye(ce(r=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=ye((...r)=>e.handleKeydownEscape&&e.handleKeydownEscape(...r),["esc"])),t[8]||(t[8]=ye(ce((...r)=>e.selectOption&&e.selectOption(...r),["stop","prevent"]),["enter"])),t[9]||(t[9]=ye((...r)=>e.deletePrevTag&&e.deletePrevTag(...r),["delete"])),t[10]||(t[10]=ye(r=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...r)=>e.handleComposition&&e.handleComposition(...r)),onCompositionupdate:t[12]||(t[12]=(...r)=>e.handleComposition&&e.handleComposition(...r)),onCompositionend:t[13]||(t[13]=(...r)=>e.handleComposition&&e.handleComposition(...r)),onInput:t[14]||(t[14]=(...r)=>e.debouncedQueryChange&&e.debouncedQueryChange(...r))},null,46,Jn)),[[Nl,e.query]]):ve("v-if",!0)],6)):ve("v-if",!0),ve(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(T(),x("input",{key:1,ref:"iOSInput",class:C(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,xn)):ve("v-if",!0),Se(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=r=>e.selectedLabel=r),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:C([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=ye(ce(r=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=ye(ce(r=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),ye(ce(e.selectOption,["stop","prevent"]),["enter"]),ye(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=ye(r=>e.visible=!1,["tab"]))]},bn({suffix:J(()=>[e.iconComponent&&!e.showClose?(T(),pe(p,{key:0,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:J(()=>[(T(),pe(at(e.iconComponent)))]),_:1},8,["class"])):ve("v-if",!0),e.showClose&&e.clearIcon?(T(),pe(p,{key:1,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:J(()=>[(T(),pe(at(e.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:J(()=>[te("div",_n,[Ue(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:J(()=>[Se($,null,{default:J(()=>[ot(Se(f,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:C(e.scrollbarKls)},{default:J(()=>[e.showNewOption?(T(),pe(d,{key:0,value:e.query,created:!0},null,8,["value"])):ve("v-if",!0),Se(m,{onUpdateOptions:e.onOptionsRendered},{default:J(()=>[Ue(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[Yt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(T(),x(nt,{key:0},[e.$slots.empty?Ue(e.$slots,"empty",{key:0}):(T(),x("p",{key:1,class:C(e.nsSelect.be("dropdown","empty"))},Ie(e.emptyText),3))],64)):ve("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[G,e.handleClose,e.popperPaneRef]])}var to=rt(Xn,[["render",eo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const lo=Be({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=Ae("select"),l=F(!0),o=Ot(),a=F([]);vl(en,it({...kt(e)}));const s=zt(Jt);It(()=>{a.value=i(o.subTree)});const i=p=>{const g=[];return Array.isArray(p.children)&&p.children.forEach(d=>{var m;d.type&&d.type.name==="ElOption"&&d.component&&d.component.proxy?g.push(d.component.proxy):(m=d.children)!=null&&m.length&&g.push(...i(d))}),g},{groupQueryChange:n}=Ft(s);return ze(n,()=>{l.value=a.value.some(p=>p.visible===!0)},{flush:"post"}),{visible:l,ns:t}}});function no(e,t,l,o,a,s){return ot((T(),x("ul",{class:C(e.ns.be("group","wrap"))},[te("li",{class:C(e.ns.be("group","title"))},Ie(e.label),3),te("li",null,[te("ul",{class:C(e.ns.b("group"))},[Ue(e.$slots,"default")],2)])],2)),[[Yt,e.visible]])}var tn=rt(lo,[["render",no],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const _o=Fl(to,{Option:yl,OptionGroup:tn}),ea=Xl(yl),ta=Xl(tn);var Ll=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function oo(e,t){return!!(e===t||Ll(e)&&Ll(t))}function ao(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!oo(e[l],t[l]))return!1;return!0}function so(e,t){t===void 0&&(t=ao);var l=null;function o(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(l&&l.lastThis===this&&t(a,l.lastArgs))return l.lastResult;var i=e.apply(this,a);return l={lastResult:i,lastArgs:a,lastThis:this},i}return o.clear=function(){l=null},o}const ln=()=>{const t=Ot().proxy.$props;return b(()=>{const l=(o,a,s)=>({});return t.perfMode?Bn(l):so(l)})},al=50,Ht="itemRendered",qt="scroll",ht="forward",Gt="backward",Ge="auto",xt="smart",Rt="start",_e="center",$t="end",Ct="horizontal",Sl="vertical",io="ltr",St="rtl",At="negative",wl="positive-ascending",Cl="positive-descending",ro={[Ct]:"left",[Sl]:"top"},uo=20,co={[Ct]:"deltaX",[Sl]:"deltaY"},fo=({atEndEdge:e,atStartEdge:t,layout:l},o)=>{let a,s=0;const i=p=>p<0&&t.value||p>0&&e.value;return{hasReachedEdge:i,onWheel:p=>{gl(a);const g=p[co[l.value]];i(s)&&i(s+g)||(s+=g,zn()||p.preventDefault(),a=bl(()=>{o(s),s=0}))}}},sl=pt({type:yt([Number,Function]),required:!0}),il=pt({type:Number}),rl=pt({type:Number,default:2}),po=pt({type:String,values:["ltr","rtl"],default:"ltr"}),ul=pt({type:Number,default:0}),Ut=pt({type:Number,required:!0}),nn=pt({type:String,values:["horizontal","vertical"],default:Sl}),on=Bt({className:{type:String,default:""},containerElement:{type:yt([String,Object]),default:"div"},data:{type:yt(Array),default:()=>kn([])},direction:po,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:yt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),mo=Bt({cache:rl,estimatedItemSize:il,layout:nn,initScrollOffset:ul,total:Ut,itemSize:sl,...on}),cl={type:Number,default:6},an={type:Number,default:0},sn={type:Number,default:2},vo=Bt({columnCache:rl,columnWidth:sl,estimatedColumnWidth:il,estimatedRowHeight:il,initScrollLeft:ul,initScrollTop:ul,itemKey:{type:yt(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:rl,rowHeight:sl,totalColumn:Ut,totalRow:Ut,hScrollbarSize:cl,vScrollbarSize:cl,scrollbarStartGap:an,scrollbarEndGap:sn,role:String,...on}),ho=Bt({alwaysOn:Boolean,class:String,layout:nn,total:Ut,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:cl,startGap:an,endGap:sn,visible:Boolean}),dt=(e,t)=>e<t?ht:Gt,Dt=e=>e===io||e===St||e===Ct,zl=e=>e===St;let vt=null;function jt(e=!1){if(vt===null||e){const t=document.createElement("div"),l=t.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const o=document.createElement("div"),a=o.style;return a.width="100px",a.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?vt=Cl:(t.scrollLeft=1,t.scrollLeft===0?vt=At:vt=wl),document.body.removeChild(t),vt}return vt}function go({move:e,size:t,bar:l},o){const a={},s=`translate${l.axis}(${e}px)`;return a[l.size]=t,a.transform=s,a.msTransform=s,a.webkitTransform=s,o==="horizontal"?a.height="100%":a.width="100%",a}const dl=Be({name:"ElVirtualScrollBar",props:ho,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const l=b(()=>e.startGap+e.endGap),o=Ae("virtual-scrollbar"),a=Ae("scrollbar"),s=F(),i=F();let n=null,p=null;const g=it({isDragging:!1,traveled:0}),d=b(()=>Rn[e.layout]),m=b(()=>e.clientSize-h(l)),f=b(()=>({position:"absolute",width:`${Ct===e.layout?m.value:e.scrollbarSize}px`,height:`${Ct===e.layout?e.scrollbarSize:m.value}px`,[ro[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),$=b(()=>{const z=e.ratio,ee=e.clientSize;if(z>=100)return Number.POSITIVE_INFINITY;if(z>=50)return z*ee/100;const M=ee/3;return Math.floor(Math.min(Math.max(z*ee,uo),M))}),G=b(()=>{if(!Number.isFinite($.value))return{display:"none"};const z=`${$.value}px`;return go({bar:d.value,size:z,move:g.traveled},e.layout)}),r=b(()=>Math.floor(e.clientSize-$.value-h(l))),A=()=>{window.addEventListener("mousemove",N),window.addEventListener("mouseup",ue);const z=h(i);z&&(p=document.onselectstart,document.onselectstart=()=>!1,z.addEventListener("touchmove",N),z.addEventListener("touchend",ue))},L=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",ue),document.onselectstart=p,p=null;const z=h(i);z&&(z.removeEventListener("touchmove",N),z.removeEventListener("touchend",ue))},U=z=>{z.stopImmediatePropagation(),!(z.ctrlKey||[1,2].includes(z.button))&&(g.isDragging=!0,g[d.value.axis]=z.currentTarget[d.value.offset]-(z[d.value.client]-z.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),A())},ue=()=>{g.isDragging=!1,g[d.value.axis]=0,t("stop-move"),L()},N=z=>{const{isDragging:ee}=g;if(!ee||!i.value||!s.value)return;const M=g[d.value.axis];if(!M)return;gl(n);const R=(s.value.getBoundingClientRect()[d.value.direction]-z[d.value.client])*-1,w=i.value[d.value.offset]-M,K=R-w;n=bl(()=>{g.traveled=Math.max(e.startGap,Math.min(K,r.value)),t("scroll",K,r.value)})},oe=z=>{const ee=Math.abs(z.target.getBoundingClientRect()[d.value.direction]-z[d.value.client]),M=i.value[d.value.offset]/2,R=ee-M;g.traveled=Math.max(0,Math.min(R,r.value)),t("scroll",R,r.value)};return ze(()=>e.scrollFrom,z=>{g.isDragging||(g.traveled=Math.ceil(z*r.value))}),Bl(()=>{L()}),()=>Ye("div",{role:"presentation",ref:s,class:[o.b(),e.class,(e.alwaysOn||g.isDragging)&&"always-on"],style:f.value,onMousedown:ce(oe,["stop","prevent"]),onTouchstartPrevent:U},Ye("div",{ref:i,class:a.e("thumb"),style:G.value,onMousedown:U},[]))}}),rn=({name:e,getOffset:t,getItemSize:l,getItemOffset:o,getEstimatedTotalSize:a,getStartIndexForOffset:s,getStopIndexForStartIndex:i,initCache:n,clearCache:p,validateProps:g})=>Be({name:e??"ElVirtualList",props:mo,emits:[Ht,qt],setup(d,{emit:m,expose:f}){g(d);const $=Ot(),G=Ae("vl"),r=F(n(d,$)),A=ln(),L=F(),U=F(),ue=F(),N=F({isScrolling:!1,scrollDir:"forward",scrollOffset:Pe(d.initScrollOffset)?d.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:d.scrollbarAlwaysOn}),oe=b(()=>{const{total:I,cache:q}=d,{isScrolling:H,scrollDir:fe,scrollOffset:Z}=h(N);if(I===0)return[0,0,0,0];const ie=s(d,Z,h(r)),ne=i(d,ie,Z,h(r)),we=!H||fe===Gt?Math.max(1,q):1,De=!H||fe===ht?Math.max(1,q):1;return[Math.max(0,ie-we),Math.max(0,Math.min(I-1,ne+De)),ie,ne]}),z=b(()=>a(d,h(r))),ee=b(()=>Dt(d.layout)),M=b(()=>[{position:"relative",[`overflow-${ee.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:Pe(d.height)?`${d.height}px`:d.height,width:Pe(d.width)?`${d.width}px`:d.width},d.style]),R=b(()=>{const I=h(z),q=h(ee);return{height:q?"100%":`${I}px`,pointerEvents:h(N).isScrolling?"none":void 0,width:q?`${I}px`:"100%"}}),w=b(()=>ee.value?d.width:d.height),{onWheel:K}=fo({atStartEdge:b(()=>N.value.scrollOffset<=0),atEndEdge:b(()=>N.value.scrollOffset>=z.value),layout:b(()=>d.layout)},I=>{var q,H;(H=(q=ue.value).onMouseUp)==null||H.call(q),le(Math.min(N.value.scrollOffset+I,z.value-w.value))}),Y=()=>{const{total:I}=d;if(I>0){const[Z,ie,ne,we]=h(oe);m(Ht,Z,ie,ne,we)}const{scrollDir:q,scrollOffset:H,updateRequested:fe}=h(N);m(qt,q,H,fe)},re=I=>{const{clientHeight:q,scrollHeight:H,scrollTop:fe}=I.currentTarget,Z=h(N);if(Z.scrollOffset===fe)return;const ie=Math.max(0,Math.min(fe,H-q));N.value={...Z,isScrolling:!0,scrollDir:dt(Z.scrollOffset,ie),scrollOffset:ie,updateRequested:!1},se(Ve)},de=I=>{const{clientWidth:q,scrollLeft:H,scrollWidth:fe}=I.currentTarget,Z=h(N);if(Z.scrollOffset===H)return;const{direction:ie}=d;let ne=H;if(ie===St)switch(jt()){case At:{ne=-H;break}case Cl:{ne=fe-q-H;break}}ne=Math.max(0,Math.min(ne,fe-q)),N.value={...Z,isScrolling:!0,scrollDir:dt(Z.scrollOffset,ne),scrollOffset:ne,updateRequested:!1},se(Ve)},Me=I=>{h(ee)?de(I):re(I),Y()},he=(I,q)=>{const H=(z.value-w.value)/q*I;le(Math.min(z.value-w.value,H))},le=I=>{I=Math.max(I,0),I!==h(N).scrollOffset&&(N.value={...h(N),scrollOffset:I,scrollDir:dt(h(N).scrollOffset,I),updateRequested:!0},se(Ve))},ae=(I,q=Ge)=>{const{scrollOffset:H}=h(N);I=Math.max(0,Math.min(I,d.total-1)),le(t(d,I,q,H,h(r)))},Re=I=>{const{direction:q,itemSize:H,layout:fe}=d,Z=A.value(p&&H,p&&fe,p&&q);let ie;if(Pl(Z,String(I)))ie=Z[I];else{const ne=o(d,I,h(r)),we=l(d,I,h(r)),De=h(ee),je=q===St,Fe=De?ne:0;Z[I]=ie={position:"absolute",left:je?void 0:`${Fe}px`,right:je?`${Fe}px`:void 0,top:De?0:`${ne}px`,height:De?"100%":`${we}px`,width:De?`${we}px`:"100%"}}return ie},Ve=()=>{N.value.isScrolling=!1,se(()=>{A.value(-1,null,null)})},$e=()=>{const I=L.value;I&&(I.scrollTop=0)};It(()=>{if(!ml)return;const{initScrollOffset:I}=d,q=h(L);Pe(I)&&q&&(h(ee)?q.scrollLeft=I:q.scrollTop=I),Y()}),yn(()=>{const{direction:I,layout:q}=d,{scrollOffset:H,updateRequested:fe}=h(N),Z=h(L);if(fe&&Z)if(q===Ct)if(I===St)switch(jt()){case At:{Z.scrollLeft=-H;break}case wl:{Z.scrollLeft=H;break}default:{const{clientWidth:ie,scrollWidth:ne}=Z;Z.scrollLeft=ne-ie-H;break}}else Z.scrollLeft=H;else Z.scrollTop=H});const Ee={ns:G,clientSize:w,estimatedTotalSize:z,windowStyle:M,windowRef:L,innerRef:U,innerStyle:R,itemsToRender:oe,scrollbarRef:ue,states:N,getItemStyle:Re,onScroll:Me,onScrollbarScroll:he,onWheel:K,scrollTo:le,scrollToItem:ae,resetScrollTop:$e};return f({windowRef:L,innerRef:U,getItemStyleCache:A,scrollTo:le,scrollToItem:ae,resetScrollTop:$e,states:N}),Ee},render(d){var m;const{$slots:f,className:$,clientSize:G,containerElement:r,data:A,getItemStyle:L,innerElement:U,itemsToRender:ue,innerStyle:N,layout:oe,total:z,onScroll:ee,onScrollbarScroll:M,onWheel:R,states:w,useIsScrolling:K,windowStyle:Y,ns:re}=d,[de,Me]=ue,he=at(r),le=at(U),ae=[];if(z>0)for(let Ee=de;Ee<=Me;Ee++)ae.push((m=f.default)==null?void 0:m.call(f,{data:A,key:Ee,index:Ee,isScrolling:K?w.isScrolling:void 0,style:L(Ee)}));const Re=[Ye(le,{style:N,ref:"innerRef"},wt(le)?ae:{default:()=>ae})],Ve=Ye(dl,{ref:"scrollbarRef",clientSize:G,layout:oe,onScroll:M,ratio:G*100/this.estimatedTotalSize,scrollFrom:w.scrollOffset/(this.estimatedTotalSize-G),total:z}),$e=Ye(he,{class:[re.e("window"),$],style:Y,onScroll:ee,onWheel:R,ref:"windowRef",key:0},wt(he)?[Re]:{default:()=>[Re]});return Ye("div",{key:0,class:[re.e("wrapper"),w.scrollbarAlwaysOn?"always-on":""]},[$e,Ve])}}),bo=rn({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:o,width:a},s,i,n)=>{const p=Dt(o)?a:e,g=Math.max(0,t*l-p),d=Math.min(g,s*l),m=Math.max(0,(s+1)*l-p);switch(i===xt&&(n>=m-p&&n<=d+p?i=Ge:i=_e),i){case Rt:return d;case $t:return m;case _e:{const f=Math.round(m+(d-m)/2);return f<Math.ceil(p/2)?0:f>g+Math.floor(p/2)?g:f}case Ge:default:return n>=m&&n<=d?n:n<m?m:d}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:o,width:a},s,i)=>{const n=s*l,p=Dt(o)?a:e,g=Math.ceil((p+i-n)/l);return Math.max(0,Math.min(t-1,s+g-1))},initCache(){},clearCache:!0,validateProps(){}}),gt=(e,t,l)=>{const{itemSize:o}=e,{items:a,lastVisitedIndex:s}=l;if(t>s){let i=0;if(s>=0){const n=a[s];i=n.offset+n.size}for(let n=s+1;n<=t;n++){const p=o(n);a[n]={offset:i,size:p},i+=p}l.lastVisitedIndex=t}return a[t]},yo=(e,t,l)=>{const{items:o,lastVisitedIndex:a}=t;return(a>0?o[a].offset:0)>=l?un(e,t,0,a,l):So(e,t,Math.max(0,a),l)},un=(e,t,l,o,a)=>{for(;l<=o;){const s=l+Math.floor((o-l)/2),i=gt(e,s,t).offset;if(i===a)return s;i<a?l=s+1:i>a&&(o=s-1)}return Math.max(0,l-1)},So=(e,t,l,o)=>{const{total:a}=e;let s=1;for(;l<a&&gt(e,l,t).offset<o;)l+=s,s*=2;return un(e,t,Math.floor(l/2),Math.min(l,a-1),o)},kl=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:o})=>{let a=0;if(o>=e&&(o=e-1),o>=0){const n=t[o];a=n.offset+n.size}const i=(e-o-1)*l;return a+i},wo=rn({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>gt(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:kl,getOffset:(e,t,l,o,a)=>{const{height:s,layout:i,width:n}=e,p=Dt(i)?n:s,g=gt(e,t,a),d=kl(e,a),m=Math.max(0,Math.min(d-p,g.offset)),f=Math.max(0,g.offset-p+g.size);switch(l===xt&&(o>=f-p&&o<=m+p?l=Ge:l=_e),l){case Rt:return m;case $t:return f;case _e:return Math.round(f+(m-f)/2);case Ge:default:return o>=f&&o<=m?o:o<f?f:m}},getStartIndexForOffset:(e,t,l)=>yo(e,l,t),getStopIndexForStartIndex:(e,t,l,o)=>{const{height:a,total:s,layout:i,width:n}=e,p=Dt(i)?n:a,g=gt(e,t,o),d=l+p;let m=g.offset+g.size,f=t;for(;f<s-1&&m<d;)f++,m+=gt(e,f,o).size;return f},initCache({estimatedItemSize:e=al},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return l.clearCacheAfterIndex=(o,a=!0)=>{var s,i;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,o-1),(s=t.exposed)==null||s.getItemStyleCache(-1),a&&((i=t.proxy)==null||i.$forceUpdate())},l},clearCache:!1,validateProps:({itemSize:e})=>{}}),Co=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},a)=>{let s=null,i=0,n=0;const p=(d,m)=>{const f=d<=0&&t.value||d>=0&&e.value,$=m<=0&&o.value||m>=0&&l.value;return f&&$};return{hasReachedEdge:p,onWheel:d=>{gl(s);let m=d.deltaX,f=d.deltaY;Math.abs(m)>Math.abs(f)?f=0:m=0,d.shiftKey&&f!==0&&(m=f,f=0),!(p(i,n)&&p(i+m,n+f))&&(i+=m,n+=f,d.preventDefault(),s=bl(()=>{a(i,n),i=0,n=0}))}}},cn=({name:e,clearCache:t,getColumnPosition:l,getColumnStartIndexForOffset:o,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:s,getEstimatedTotalWidth:i,getColumnOffset:n,getRowOffset:p,getRowPosition:g,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:m,initCache:f,injectToInstance:$,validateProps:G})=>Be({name:e??"ElVirtualList",props:vo,emits:[Ht,qt],setup(r,{emit:A,expose:L,slots:U}){const ue=Ae("vl");G(r);const N=Ot(),oe=F(f(r,N));$==null||$(N,oe);const z=F(),ee=F(),M=F(),R=F(null),w=F({isScrolling:!1,scrollLeft:Pe(r.initScrollLeft)?r.initScrollLeft:0,scrollTop:Pe(r.initScrollTop)?r.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ht,yAxisScrollDir:ht}),K=ln(),Y=b(()=>Number.parseInt(`${r.height}`,10)),re=b(()=>Number.parseInt(`${r.width}`,10)),de=b(()=>{const{totalColumn:O,totalRow:V,columnCache:k}=r,{isScrolling:B,xAxisScrollDir:W,scrollLeft:D}=h(w);if(O===0||V===0)return[0,0,0,0];const j=o(r,D,h(oe)),X=a(r,j,D,h(oe)),_=!B||W===Gt?Math.max(1,k):1,ge=!B||W===ht?Math.max(1,k):1;return[Math.max(0,j-_),Math.max(0,Math.min(O-1,X+ge)),j,X]}),Me=b(()=>{const{totalColumn:O,totalRow:V,rowCache:k}=r,{isScrolling:B,yAxisScrollDir:W,scrollTop:D}=h(w);if(O===0||V===0)return[0,0,0,0];const j=d(r,D,h(oe)),X=m(r,j,D,h(oe)),_=!B||W===Gt?Math.max(1,k):1,ge=!B||W===ht?Math.max(1,k):1;return[Math.max(0,j-_),Math.max(0,Math.min(V-1,X+ge)),j,X]}),he=b(()=>s(r,h(oe))),le=b(()=>i(r,h(oe))),ae=b(()=>{var O;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:r.direction,height:Pe(r.height)?`${r.height}px`:r.height,width:Pe(r.width)?`${r.width}px`:r.width},(O=r.style)!=null?O:{}]}),Re=b(()=>{const O=`${h(le)}px`;return{height:`${h(he)}px`,pointerEvents:h(w).isScrolling?"none":void 0,width:O}}),Ve=()=>{const{totalColumn:O,totalRow:V}=r;if(O>0&&V>0){const[X,_,ge,ke]=h(de),[Ce,Le,st,Ze]=h(Me);A(Ht,{columnCacheStart:X,columnCacheEnd:_,rowCacheStart:Ce,rowCacheEnd:Le,columnVisibleStart:ge,columnVisibleEnd:ke,rowVisibleStart:st,rowVisibleEnd:Ze})}const{scrollLeft:k,scrollTop:B,updateRequested:W,xAxisScrollDir:D,yAxisScrollDir:j}=h(w);A(qt,{xAxisScrollDir:D,scrollLeft:k,yAxisScrollDir:j,scrollTop:B,updateRequested:W})},$e=O=>{const{clientHeight:V,clientWidth:k,scrollHeight:B,scrollLeft:W,scrollTop:D,scrollWidth:j}=O.currentTarget,X=h(w);if(X.scrollTop===D&&X.scrollLeft===W)return;let _=W;if(zl(r.direction))switch(jt()){case At:_=-W;break;case Cl:_=j-k-W;break}w.value={...X,isScrolling:!0,scrollLeft:_,scrollTop:Math.max(0,Math.min(D,B-V)),updateRequested:!0,xAxisScrollDir:dt(X.scrollLeft,_),yAxisScrollDir:dt(X.scrollTop,D)},se(()=>ie()),ne(),Ve()},Ee=(O,V)=>{const k=h(Y),B=(he.value-k)/V*O;H({scrollTop:Math.min(he.value-k,B)})},I=(O,V)=>{const k=h(re),B=(le.value-k)/V*O;H({scrollLeft:Math.min(le.value-k,B)})},{onWheel:q}=Co({atXStartEdge:b(()=>w.value.scrollLeft<=0),atXEndEdge:b(()=>w.value.scrollLeft>=le.value-h(re)),atYStartEdge:b(()=>w.value.scrollTop<=0),atYEndEdge:b(()=>w.value.scrollTop>=he.value-h(Y))},(O,V)=>{var k,B,W,D;(B=(k=ee.value)==null?void 0:k.onMouseUp)==null||B.call(k),(D=(W=M.value)==null?void 0:W.onMouseUp)==null||D.call(W);const j=h(re),X=h(Y);H({scrollLeft:Math.min(w.value.scrollLeft+O,le.value-j),scrollTop:Math.min(w.value.scrollTop+V,he.value-X)})}),H=({scrollLeft:O=w.value.scrollLeft,scrollTop:V=w.value.scrollTop})=>{O=Math.max(O,0),V=Math.max(V,0);const k=h(w);V===k.scrollTop&&O===k.scrollLeft||(w.value={...k,xAxisScrollDir:dt(k.scrollLeft,O),yAxisScrollDir:dt(k.scrollTop,V),scrollLeft:O,scrollTop:V,updateRequested:!0},se(()=>ie()),ne(),Ve())},fe=(O=0,V=0,k=Ge)=>{const B=h(w);V=Math.max(0,Math.min(V,r.totalColumn-1)),O=Math.max(0,Math.min(O,r.totalRow-1));const W=$n(ue.namespace.value),D=h(oe),j=s(r,D),X=i(r,D);H({scrollLeft:n(r,V,k,B.scrollLeft,D,X>r.width?W:0),scrollTop:p(r,O,k,B.scrollTop,D,j>r.height?W:0)})},Z=(O,V)=>{const{columnWidth:k,direction:B,rowHeight:W}=r,D=K.value(t&&k,t&&W,t&&B),j=`${O},${V}`;if(Pl(D,j))return D[j];{const[,X]=l(r,V,h(oe)),_=h(oe),ge=zl(B),[ke,Ce]=g(r,O,_),[Le]=l(r,V,_);return D[j]={position:"absolute",left:ge?void 0:`${X}px`,right:ge?`${X}px`:void 0,top:`${Ce}px`,height:`${ke}px`,width:`${Le}px`},D[j]}},ie=()=>{w.value.isScrolling=!1,se(()=>{K.value(-1,null,null)})};It(()=>{if(!ml)return;const{initScrollLeft:O,initScrollTop:V}=r,k=h(z);k&&(Pe(O)&&(k.scrollLeft=O),Pe(V)&&(k.scrollTop=V)),Ve()});const ne=()=>{const{direction:O}=r,{scrollLeft:V,scrollTop:k,updateRequested:B}=h(w),W=h(z);if(B&&W){if(O===St)switch(jt()){case At:{W.scrollLeft=-V;break}case wl:{W.scrollLeft=V;break}default:{const{clientWidth:D,scrollWidth:j}=W;W.scrollLeft=j-D-V;break}}else W.scrollLeft=Math.max(0,V);W.scrollTop=Math.max(0,k)}},{resetAfterColumnIndex:we,resetAfterRowIndex:De,resetAfter:je}=N.proxy;L({windowRef:z,innerRef:R,getItemStyleCache:K,scrollTo:H,scrollToItem:fe,states:w,resetAfterColumnIndex:we,resetAfterRowIndex:De,resetAfter:je});const Fe=()=>{const{scrollbarAlwaysOn:O,scrollbarStartGap:V,scrollbarEndGap:k,totalColumn:B,totalRow:W}=r,D=h(re),j=h(Y),X=h(le),_=h(he),{scrollLeft:ge,scrollTop:ke}=h(w),Ce=Ye(dl,{ref:ee,alwaysOn:O,startGap:V,endGap:k,class:ue.e("horizontal"),clientSize:D,layout:"horizontal",onScroll:I,ratio:D*100/X,scrollFrom:ge/(X-D),total:W,visible:!0}),Le=Ye(dl,{ref:M,alwaysOn:O,startGap:V,endGap:k,class:ue.e("vertical"),clientSize:j,layout:"vertical",onScroll:Ee,ratio:j*100/_,scrollFrom:ke/(_-j),total:B,visible:!0});return{horizontalScrollbar:Ce,verticalScrollbar:Le}},et=()=>{var O;const[V,k]=h(de),[B,W]=h(Me),{data:D,totalColumn:j,totalRow:X,useIsScrolling:_,itemKey:ge}=r,ke=[];if(X>0&&j>0)for(let Ce=B;Ce<=W;Ce++)for(let Le=V;Le<=k;Le++)ke.push((O=U.default)==null?void 0:O.call(U,{columnIndex:Le,data:D,key:ge({columnIndex:Le,data:D,rowIndex:Ce}),isScrolling:_?h(w).isScrolling:void 0,style:Z(Ce,Le),rowIndex:Ce}));return ke},tt=()=>{const O=at(r.innerElement),V=et();return[Ye(O,{style:h(Re),ref:R},wt(O)?V:{default:()=>V})]};return()=>{const O=at(r.containerElement),{horizontalScrollbar:V,verticalScrollbar:k}=Fe(),B=tt();return Ye("div",{key:0,class:ue.e("wrapper"),role:r.role},[Ye(O,{class:r.className,style:h(ae),onScroll:$e,onWheel:q,ref:z},wt(O)?B:{default:()=>B}),V,k])}}}),la=cn({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,a,s,i,n)=>{l=Number(l);const p=Math.max(0,e*t-l),g=Math.min(p,o*t),d=Math.max(0,o*t-l+n+t);switch(a==="smart"&&(s>=d-l&&s<=g+l?a=Ge:a=_e),a){case Rt:return g;case $t:return d;case _e:{const m=Math.round(d+(g-d)/2);return m<Math.ceil(l/2)?0:m>p+Math.floor(l/2)?p:m}case Ge:default:return s>=d&&s<=g?s:d>g||s<d?d:g}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,a,s,i,n)=>{t=Number(t);const p=Math.max(0,l*e-t),g=Math.min(p,o*e),d=Math.max(0,o*e-t+n+e);switch(a===xt&&(s>=d-t&&s<=g+t?a=Ge:a=_e),a){case Rt:return g;case $t:return d;case _e:{const m=Math.round(d+(g-d)/2);return m<Math.ceil(t/2)?0:m>p+Math.floor(t/2)?p:m}case Ge:default:return s>=d&&s<=g?s:d>g||s<d?d:g}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,a)=>{const s=o*e,i=Math.ceil((l+a-s)/e);return Math.max(0,Math.min(t-1,o+i-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,a)=>{const s=o*e,i=Math.ceil((l+a-s)/e);return Math.max(0,Math.min(t-1,o+i-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:Qt,min:dn,floor:fn}=Math,Oo={column:"columnWidth",row:"rowHeight"},fl={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},lt=(e,t,l,o)=>{const[a,s,i]=[l[o],e[Oo[o]],l[fl[o]]];if(t>i){let n=0;if(i>=0){const p=a[i];n=p.offset+p.size}for(let p=i+1;p<=t;p++){const g=s(p);a[p]={offset:n,size:g},n+=g}l[fl[o]]=t}return a[t]},pn=(e,t,l,o,a,s)=>{for(;l<=o;){const i=l+fn((o-l)/2),n=lt(e,i,t,s).offset;if(n===a)return i;n<a?l=i+1:o=i-1}return Qt(0,l-1)},Io=(e,t,l,o,a)=>{const s=a==="column"?e.totalColumn:e.totalRow;let i=1;for(;l<s&&lt(e,l,t,a).offset<o;)l+=i,i*=2;return pn(e,t,fn(l/2),dn(l,s-1),o,a)},Rl=(e,t,l,o)=>{const[a,s]=[t[o],t[fl[o]]];return(s>0?a[s].offset:0)>=l?pn(e,t,0,s,l,o):Io(e,t,Qt(0,s),l,o)},mn=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let a=0;if(l>=e&&(l=e-1),l>=0){const n=o[l];a=n.offset+n.size}const i=(e-l-1)*t;return a+i},vn=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let a=0;if(o>e&&(o=e-1),o>=0){const n=t[o];a=n.offset+n.size}const i=(e-o-1)*l;return a+i},To={column:vn,row:mn},$l=(e,t,l,o,a,s,i)=>{const[n,p]=[s==="row"?e.height:e.width,To[s]],g=lt(e,t,a,s),d=p(e,a),m=Qt(0,dn(d-n,g.offset)),f=Qt(0,g.offset-n+i+g.size);switch(l===xt&&(o>=f-n&&o<=m+n?l=Ge:l=_e),l){case Rt:return m;case $t:return f;case _e:return Math.round(f+(m-f)/2);case Ge:default:return o>=f&&o<=m?o:f>m||o<f?f:m}},na=cn({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=lt(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=lt(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,a,s)=>$l(e,t,l,o,a,"column",s),getRowOffset:(e,t,l,o,a,s)=>$l(e,t,l,o,a,"row",s),getColumnStartIndexForOffset:(e,t,l)=>Rl(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const a=lt(e,t,o,"column"),s=l+e.width;let i=a.offset+a.size,n=t;for(;n<e.totalColumn-1&&i<s;)n++,i+=lt(e,t,o,"column").size;return n},getEstimatedTotalHeight:mn,getEstimatedTotalWidth:vn,getRowStartIndexForOffset:(e,t,l)=>Rl(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:a,height:s}=e,i=lt(e,t,o,"row"),n=l+s;let p=i.size+i.offset,g=t;for(;g<a-1&&p<n;)g++,p+=lt(e,g,o,"row").size;return g},injectToInstance:(e,t)=>{const l=({columnIndex:s,rowIndex:i},n)=>{var p,g;n=Jl(n)?!0:n,Pe(s)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,s-1)),Pe(i)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,i-1)),(p=e.exposed)==null||p.getItemStyleCache.value(-1,null,null),n&&((g=e.proxy)==null||g.$forceUpdate())},o=(s,i)=>{l({columnIndex:s},i)},a=(s,i)=>{l({rowIndex:s},i)};Object.assign(e.proxy,{resetAfterColumnIndex:o,resetAfterRowIndex:a,resetAfter:l})},initCache:({estimatedColumnWidth:e=al,estimatedRowHeight:t=al})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Mo=Be({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Ae("select")}}});function Vo(e,t,l,o,a,s){return e.item.isTitle?(T(),x("div",{key:0,class:C(e.ns.be("group","title")),style:Te([e.style,{lineHeight:`${e.height}px`}])},Ie(e.item.label),7)):(T(),x("div",{key:1,class:C(e.ns.be("group","split")),style:Te(e.style)},[te("span",{class:C(e.ns.be("group","split-dash")),style:Te({top:`${e.height/2}px`})},null,6)],6))}var Eo=rt(Mo,[["render",Vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Lo(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const zo={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Yl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Ql.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:jl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:yt(String),values:Zl,default:"bottom-start"}},ko={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Ro=Be({props:ko,emits:["select","hover"],setup(e,{emit:t}){const l=Ae("select"),{hoverItem:o,selectOptionClick:a}=Lo(e,{emit:t});return{ns:l,hoverItem:o,selectOptionClick:a}}}),$o=["aria-selected"];function Ao(e,t,l,o,a,s){return T(),x("li",{"aria-selected":e.selected,style:Te(e.style),class:C([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...i)=>e.hoverItem&&e.hoverItem(...i)),onClick:t[1]||(t[1]=ce((...i)=>e.selectOptionClick&&e.selectOptionClick(...i),["stop"]))},[Ue(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[te("span",null,Ie(e.item.label),1)])],46,$o)}var Do=rt(Ro,[["render",Ao],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const hn=Symbol("ElSelectV2Injection");var Bo=Be({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:l}){const o=zt(hn),a=Ae("select"),s=F([]),i=F(),n=b(()=>e.data.length);ze(()=>n.value,()=>{var M,R;(R=(M=o.popper.value).updatePopper)==null||R.call(M)});const p=b(()=>Jl(o.props.estimatedOptionHeight)),g=b(()=>p.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:M=>s.value[M]}),d=(M=[],R)=>{const{props:{valueKey:w}}=o;return ft(R)?M&&M.some(K=>me(K,w)===me(R,w)):M.includes(R)},m=(M,R)=>{if(ft(R)){const{valueKey:w}=o.props;return me(M,w)===me(R,w)}else return M===R},f=(M,R)=>{const{valueKey:w}=o.props;return o.props.multiple?d(M,me(R,w)):m(M,me(R,w))},$=(M,R)=>{const{disabled:w,multiple:K,multipleLimit:Y}=o.props;return w||!R&&(K?Y>0&&M.length>=Y:!1)},G=M=>e.hoveringIndex===M;l({listRef:i,isSized:p,isItemDisabled:$,isItemHovering:G,isItemSelected:f,scrollToItem:M=>{const R=i.value;R&&R.scrollToItem(M)},resetScrollTop:()=>{const M=i.value;M&&M.resetScrollTop()}});const L=M=>{const{index:R,data:w,style:K}=M,Y=h(p),{itemSize:re,estimatedSize:de}=h(g),{modelValue:Me}=o.props,{onSelect:he,onHover:le}=o,ae=w[R];if(ae.type==="Group")return Se(Eo,{item:ae,style:K,height:Y?re:de},null);const Re=f(Me,ae),Ve=$(Me,Re),$e=G(R);return Se(Do,Il(M,{selected:Re,disabled:ae.disabled||Ve,created:!!ae.created,hovering:$e,item:ae,onSelect:he,onHover:le}),{default:Ee=>{var I;return((I=t.default)==null?void 0:I.call(t,Ee))||Se("span",null,[ae.label])}})},{onKeyboardNavigate:U,onKeyboardSelect:ue}=o,N=()=>{U("forward")},oe=()=>{U("backward")},z=()=>{o.expanded=!1},ee=M=>{const{code:R}=M,{tab:w,esc:K,down:Y,up:re,enter:de}=nl;switch(R!==w&&(M.preventDefault(),M.stopPropagation()),R){case w:case K:{z();break}case Y:{N();break}case re:{oe();break}case de:{ue();break}}};return()=>{var M;const{data:R,width:w}=e,{height:K,multiple:Y,scrollbarAlwaysOn:re}=o.props;if(R.length===0)return Se("div",{class:a.b("dropdown"),style:{width:`${w}px`}},[(M=t.empty)==null?void 0:M.call(t)]);const de=h(p)?bo:wo;return Se("div",{class:[a.b("dropdown"),a.is("multiple",Y)]},[Se(de,Il({ref:i},h(g),{className:a.be("dropdown","list"),scrollbarAlwaysOn:re,data:R,height:K,width:w,total:R.length,onKeydown:ee}),{default:Me=>Se(L,Me,null)})])}}});function No(e,t){const l=F(0),o=F(null),a=b(()=>e.allowCreate&&e.filterable);function s(d){const m=f=>f.value===d;return e.options&&e.options.some(m)||t.createdOptions.some(m)}function i(d){a.value&&(e.multiple&&d.created?l.value++:o.value=d)}function n(d){if(a.value)if(d&&d.length>0&&!s(d)){const m={value:d,label:d,created:!0,disabled:!1};t.createdOptions.length>=l.value?t.createdOptions[l.value]=m:t.createdOptions.push(m)}else if(e.multiple)t.createdOptions.length=l.value;else{const m=o.value;t.createdOptions.length=0,m&&m.created&&t.createdOptions.push(m)}}function p(d){if(!a.value||!d||!d.created||d.created&&e.reserveKeyword&&t.inputValue===d.label)return;const m=t.createdOptions.findIndex(f=>f.value===d.value);~m&&(t.createdOptions.splice(m,1),l.value--)}function g(){a.value&&(t.createdOptions.length=0,l.value=0)}return{createNewOption:n,removeNewOption:p,selectNewOption:i,clearAllNewOption:g}}const Po=e=>{const t=[];return e.forEach(l=>{Lt(l.options)?(t.push({label:l.label,isTitle:!0,type:"Group"}),l.options.forEach(o=>{t.push(o)}),t.push({type:"Group"})):t.push(l)}),t};function Fo(e){const t=F(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:s=>{const i=s.target.value,n=i[i.length-1]||"";t.value=!ql(n)},handleCompositionEnd:s=>{t.value&&(t.value=!1,Je(e)&&e(s))}}}const Al="",Dl=11,Ko={larget:51,default:42,small:33},Wo=(e,t)=>{const{t:l}=Zt(),o=Ae("select-v2"),a=Ae("input"),{form:s,formItem:i}=Wl(),n=it({inputValue:Al,displayInputValue:Al,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),p=F(-1),g=F(-1),d=F(null),m=F(null),f=F(null),$=F(null),G=F(null),r=F(null),A=F(null),L=F(!1),U=b(()=>e.disabled||(s==null?void 0:s.disabled)),ue=b(()=>{const u=Y.value.length*34;return u>e.height?e.height:u}),N=b(()=>!Vl(e.modelValue)),oe=b(()=>{const u=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:N.value;return e.clearable&&!U.value&&n.comboBoxHovering&&u}),z=b(()=>e.remote&&e.filterable?"":An),ee=b(()=>z.value&&o.is("reverse",L.value)),M=b(()=>(i==null?void 0:i.validateState)||""),R=b(()=>Dn[M.value]),w=b(()=>e.remote?300:0),K=b(()=>{const u=Y.value;return e.loading?e.loadingText||l("el.select.loading"):e.remote&&n.inputValue===""&&u.length===0?!1:e.filterable&&n.inputValue&&u.length>0?e.noMatchText||l("el.select.noMatch"):u.length===0?e.noDataText||l("el.select.noData"):null}),Y=b(()=>{const u=y=>{const E=n.inputValue,Q=new RegExp(Kl(E),"i");return E?Q.test(y.label||""):!0};return e.loading?[]:Po(e.options.concat(n.createdOptions).map(y=>{if(Lt(y.options)){const E=y.options.filter(u);if(E.length>0)return{...y,options:E}}else if(e.remote||u(y))return y;return null}).filter(y=>y!==null))}),re=b(()=>{const u=new Map;return Y.value.forEach((y,E)=>{u.set(D(y),{option:y,index:E})}),u}),de=b(()=>Y.value.every(u=>u.disabled)),Me=hl(),he=b(()=>Me.value==="small"?"small":"default"),le=b(()=>{const u=r.value,y=he.value||"default",E=u?Number.parseInt(getComputedStyle(u).paddingLeft):0,Q=u?Number.parseInt(getComputedStyle(u).paddingRight):0;return n.selectWidth-Q-E-Ko[y]}),ae=()=>{var u;g.value=((u=G.value)==null?void 0:u.offsetWidth)||200},Re=b(()=>({width:`${n.calculatedWidth===0?Dl:Math.ceil(n.calculatedWidth)+Dl}px`})),Ve=b(()=>Lt(e.modelValue)?e.modelValue.length===0&&!n.displayInputValue:e.filterable?n.displayInputValue.length===0:!0),$e=b(()=>{const u=e.placeholder||l("el.select.placeholder");return e.multiple||Vl(e.modelValue)?u:n.selectedLabel}),Ee=b(()=>{var u,y;return(y=(u=$.value)==null?void 0:u.popperRef)==null?void 0:y.contentRef}),I=b(()=>{if(e.multiple){const u=e.modelValue.length;if(e.modelValue.length>0&&re.value.has(e.modelValue[u-1])){const{index:y}=re.value.get(e.modelValue[u-1]);return y}}else if(e.modelValue&&re.value.has(e.modelValue)){const{index:u}=re.value.get(e.modelValue);return u}return-1}),q=b({get(){return L.value&&K.value!==!1},set(u){L.value=u}}),H=b(()=>n.cachedOptions.slice(0,e.maxCollapseTags)),fe=b(()=>n.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:Z,removeNewOption:ie,selectNewOption:ne,clearAllNewOption:we}=No(e,n),{handleCompositionStart:De,handleCompositionUpdate:je,handleCompositionEnd:Fe}=Fo(u=>v(u)),et=()=>{var u,y,E;(y=(u=m.value)==null?void 0:u.focus)==null||y.call(u),(E=$.value)==null||E.updatePopper()},tt=()=>{if(!e.automaticDropdown&&!U.value)return n.isComposing&&(n.softFocus=!0),se(()=>{var u,y;L.value=!L.value,(y=(u=m.value)==null?void 0:u.focus)==null||y.call(u)})},Ke=()=>(e.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),V(n.inputValue),se(()=>{Z(n.inputValue)})),O=ol(Ke,w.value),V=u=>{n.previousQuery!==u&&(n.previousQuery=u,e.filterable&&Je(e.filterMethod)?e.filterMethod(u):e.filterable&&e.remote&&Je(e.remoteMethod)&&e.remoteMethod(u))},k=u=>{Wt(e.modelValue,u)||t(Xt,u)},B=u=>{t(xe,u),k(u),n.previousValue=u==null?void 0:u.toString()},W=(u=[],y)=>{if(!ft(y))return u.indexOf(y);const E=e.valueKey;let Q=-1;return u.some((We,He)=>me(We,E)===me(y,E)?(Q=He,!0):!1),Q},D=u=>ft(u)?me(u,e.valueKey):u,j=u=>ft(u)?u.label:u,X=()=>se(()=>{var u,y;if(!m.value)return;const E=r.value;G.value.height=E.offsetHeight,L.value&&K.value!==!1&&((y=(u=$.value)==null?void 0:u.updatePopper)==null||y.call(u))}),_=()=>{var u,y;if(ge(),ae(),(y=(u=$.value)==null?void 0:u.updatePopper)==null||y.call(u),e.multiple)return X()},ge=()=>{const u=r.value;u&&(n.selectWidth=u.getBoundingClientRect().width)},ke=(u,y,E=!0)=>{var Q,We;if(e.multiple){let He=e.modelValue.slice();const Vt=W(He,D(u));Vt>-1?(He=[...He.slice(0,Vt),...He.slice(Vt+1)],n.cachedOptions.splice(Vt,1),ie(u)):(e.multipleLimit<=0||He.length<e.multipleLimit)&&(He=[...He,D(u)],n.cachedOptions.push(u),ne(u),Qe(y)),B(He),u.created&&(n.query="",V(""),n.inputLength=20),e.filterable&&!e.reserveKeyword&&((We=(Q=m.value).focus)==null||We.call(Q),Xe("")),e.filterable&&(n.calculatedWidth=A.value.getBoundingClientRect().width),X(),c()}else p.value=y,n.selectedLabel=u.label,B(D(u)),L.value=!1,n.isComposing=!1,n.isSilentBlur=E,ne(u),u.created||we(),Qe(y)},Ce=(u,y)=>{const{valueKey:E}=e,Q=e.modelValue.indexOf(me(y,E));if(Q>-1&&!U.value){const We=[...e.modelValue.slice(0,Q),...e.modelValue.slice(Q+1)];return n.cachedOptions.splice(Q,1),B(We),t("remove-tag",me(y,E)),n.softFocus=!0,ie(y),se(et)}u.stopPropagation()},Le=u=>{const y=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:y||t("focus",u)},st=u=>(n.softFocus=!1,se(()=>{var y,E;(E=(y=m.value)==null?void 0:y.blur)==null||E.call(y),A.value&&(n.calculatedWidth=A.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&t("blur",u),n.isComposing=!1})),Ze=()=>{n.displayInputValue.length>0?Xe(""):L.value=!1},mt=u=>{if(n.displayInputValue.length===0){u.preventDefault();const y=e.modelValue.slice();y.pop(),ie(n.cachedOptions.pop()),B(y)}},Tt=()=>{let u;return Lt(e.modelValue)?u=[]:u=void 0,n.softFocus=!0,e.multiple?n.cachedOptions=[]:n.selectedLabel="",L.value=!1,B(u),t("clear"),we(),se(et)},Xe=u=>{n.displayInputValue=u,n.inputValue=u},ut=(u,y=void 0)=>{const E=Y.value;if(!["forward","backward"].includes(u)||U.value||E.length<=0||de.value)return;if(!L.value)return tt();y===void 0&&(y=n.hoveringIndex);let Q=-1;u==="forward"?(Q=y+1,Q>=E.length&&(Q=0)):u==="backward"&&(Q=y-1,(Q<0||Q>=E.length)&&(Q=E.length-1));const We=E[Q];if(We.disabled||We.type==="Group")return ut(u,Q);Qe(Q),be(Q)},Nt=()=>{if(L.value)~n.hoveringIndex&&Y.value[n.hoveringIndex]&&ke(Y.value[n.hoveringIndex],n.hoveringIndex,!1);else return tt()},Qe=u=>{n.hoveringIndex=u},Mt=()=>{n.hoveringIndex=-1},c=()=>{var u;const y=m.value;y&&((u=y.focus)==null||u.call(y))},v=u=>{const y=u.target.value;if(Xe(y),n.displayInputValue.length>0&&!L.value&&(L.value=!0),n.calculatedWidth=A.value.getBoundingClientRect().width,e.multiple&&X(),e.remote)O();else return Ke()},S=()=>(L.value=!1,st()),P=()=>(n.inputValue=n.displayInputValue,se(()=>{~I.value&&(Qe(I.value),be(n.hoveringIndex))})),be=u=>{f.value.scrollToItem(u)},Oe=()=>{if(Mt(),e.multiple)if(e.modelValue.length>0){let u=!1;n.cachedOptions.length=0,n.previousValue=e.modelValue.toString();for(const y of e.modelValue)if(re.value.has(y)){const{index:E,option:Q}=re.value.get(y);n.cachedOptions.push(Q),u||Qe(E),u=!0}}else n.cachedOptions=[],n.previousValue=void 0;else if(N.value){n.previousValue=e.modelValue;const u=Y.value,y=u.findIndex(E=>D(E)===D(e.modelValue));~y?(n.selectedLabel=u[y].label,Qe(y)):n.selectedLabel=`${e.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;we(),ae()};return ze(L,u=>{var y,E;t("visible-change",u),u?(E=(y=$.value).update)==null||E.call(y):(n.displayInputValue="",n.previousQuery=null,Z(""))}),ze(()=>e.modelValue,(u,y)=>{var E;(!u||u.toString()!==n.previousValue)&&Oe(),!Wt(u,y)&&e.validateEvent&&((E=i==null?void 0:i.validate)==null||E.call(i,"change").catch(Q=>Hl()))},{deep:!0}),ze(()=>e.options,()=>{const u=m.value;(!u||u&&document.activeElement!==u)&&Oe()},{deep:!0}),ze(Y,()=>se(f.value.resetScrollTop)),ze(()=>q.value,u=>{u||Mt()}),It(()=>{Oe()}),pl(G,_),{collapseTagSize:he,currentPlaceholder:$e,expanded:L,emptyText:K,popupHeight:ue,debounce:w,filteredOptions:Y,iconComponent:z,iconReverse:ee,inputWrapperStyle:Re,popperSize:g,dropdownMenuVisible:q,hasModelValue:N,shouldShowPlaceholder:Ve,selectDisabled:U,selectSize:Me,showClearBtn:oe,states:n,tagMaxWidth:le,nsSelectV2:o,nsInput:a,calculatorRef:A,controlRef:d,inputRef:m,menuRef:f,popper:$,selectRef:G,selectionRef:r,popperRef:Ee,validateState:M,validateIcon:R,showTagList:H,collapseTagList:fe,debouncedOnInputChange:O,deleteTag:Ce,getLabel:j,getValueKey:D,handleBlur:st,handleClear:Tt,handleClickOutside:S,handleDel:mt,handleEsc:Ze,handleFocus:Le,handleMenuEnter:P,handleResize:_,toggleMenu:tt,scrollTo:be,onInput:v,onKeyboardNavigate:ut,onKeyboardSelect:Nt,onSelect:ke,onHover:Qe,onUpdateInputValue:Xe,handleCompositionStart:De,handleCompositionEnd:Fe,handleCompositionUpdate:je}},Ho=Be({name:"ElSelectV2",components:{ElSelectMenu:Bo,ElTag:_l,ElTooltip:Gl,ElIcon:Kt},directives:{ClickOutside:Ul,ModelText:Nl},props:zo,emits:[xe,Xt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const l=b(()=>{const{modelValue:a,multiple:s}=e,i=s?[]:void 0;return Lt(a)?s?a:i:s?i:a}),o=Wo(it({...kt(e),modelValue:l}),t);return vl(hn,{props:it({...kt(e),height:o.popupHeight,modelValue:l}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:l}}}),qo={key:0},Go=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Uo=["textContent"],jo=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Qo=["textContent"];function Yo(e,t,l,o,a,s){const i=qe("el-tag"),n=qe("el-tooltip"),p=qe("el-icon"),g=qe("el-select-menu"),d=ll("model-text"),m=ll("click-outside");return ot((T(),x("div",{ref:"selectRef",class:C([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=ce((...f)=>e.toggleMenu&&e.toggleMenu(...f),["stop"])),onMouseenter:t[25]||(t[25]=f=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=f=>e.states.comboBoxHovering=!1)},[Se(n,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=f=>e.states.inputValue=e.states.displayInputValue)},{default:J(()=>[te("div",{ref:"selectionRef",class:C([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(T(),x("div",qo,[Ue(e.$slots,"prefix")])):ve("v-if",!0),e.multiple?(T(),x("div",{key:1,class:C(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(T(),x(nt,{key:0},[(T(!0),x(nt,null,bt(e.showTagList,f=>(T(),x("div",{key:e.getValueKey(f),class:C(e.nsSelectV2.e("selected-item"))},[Se(i,{closable:!e.selectDisabled&&!(f!=null&&f.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:$=>e.deleteTag($,f)},{default:J(()=>[te("span",{class:C(e.nsSelectV2.e("tags-text")),style:Te({maxWidth:`${e.tagMaxWidth}px`})},Ie(f==null?void 0:f.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),te("div",{class:C(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(T(),pe(i,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:J(()=>[e.collapseTagsTooltip?(T(),pe(n,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:J(()=>[te("span",{class:C(e.nsSelectV2.e("tags-text")),style:Te({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Ie(e.modelValue.length-e.maxCollapseTags),7)]),content:J(()=>[te("div",{class:C(e.nsSelectV2.e("selection"))},[(T(!0),x(nt,null,bt(e.collapseTagList,f=>(T(),x("div",{key:e.getValueKey(f),class:C(e.nsSelectV2.e("selected-item"))},[Se(i,{closable:!e.selectDisabled&&!f.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:$=>e.deleteTag($,f)},{default:J(()=>[te("span",{class:C(e.nsSelectV2.e("tags-text")),style:Te({maxWidth:`${e.tagMaxWidth}px`})},Ie(e.getLabel(f)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(T(),x("span",{key:1,class:C(e.nsSelectV2.e("tags-text")),style:Te({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Ie(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):ve("v-if",!0)],2)],64)):(T(!0),x(nt,{key:1},bt(e.states.cachedOptions,f=>(T(),x("div",{key:e.getValueKey(f),class:C(e.nsSelectV2.e("selected-item"))},[Se(i,{closable:!e.selectDisabled&&!f.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:$=>e.deleteTag($,f)},{default:J(()=>[te("span",{class:C(e.nsSelectV2.e("tags-text")),style:Te({maxWidth:`${e.tagMaxWidth}px`})},Ie(e.getLabel(f)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),te("div",{class:C([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:Te(e.inputWrapperStyle)},[ot(te("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:C([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...f)=>e.onUpdateInputValue&&e.onUpdateInputValue(...f)),onFocus:t[1]||(t[1]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[2]||(t[2]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onInput:t[3]||(t[3]=(...f)=>e.onInput&&e.onInput(...f)),onCompositionstart:t[4]||(t[4]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[5]||(t[5]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[6]||(t[6]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onKeydown:[t[7]||(t[7]=ye(ce(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=ye(ce(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=ye(ce((...f)=>e.onKeyboardSelect&&e.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),t[10]||(t[10]=ye(ce((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"])),t[11]||(t[11]=ye(ce((...f)=>e.handleDel&&e.handleDel(...f),["stop"]),["delete"]))]},null,42,Go),[[d,e.states.displayInputValue]]),e.filterable?(T(),x("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:C(e.nsSelectV2.e("input-calculator")),textContent:Ie(e.states.displayInputValue)},null,10,Uo)):ve("v-if",!0)],6)],2)):(T(),x(nt,{key:2},[te("div",{class:C([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[ot(te("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:C(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[13]||(t[13]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[14]||(t[14]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onFocus:t[15]||(t[15]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[16]||(t[16]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onInput:t[17]||(t[17]=(...f)=>e.onInput&&e.onInput(...f)),onKeydown:[t[18]||(t[18]=ye(ce(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=ye(ce(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=ye(ce((...f)=>e.onKeyboardSelect&&e.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),t[21]||(t[21]=ye(ce((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...f)=>e.onUpdateInputValue&&e.onUpdateInputValue(...f))},null,42,jo),[[d,e.states.displayInputValue]])],2),e.filterable?(T(),x("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:C([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:Ie(e.states.displayInputValue)},null,10,Qo)):ve("v-if",!0)],64)),e.shouldShowPlaceholder?(T(),x("span",{key:3,class:C([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},Ie(e.currentPlaceholder),3)):ve("v-if",!0),te("span",{class:C(e.nsSelectV2.e("suffix"))},[e.iconComponent?ot((T(),pe(p,{key:0,class:C([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:J(()=>[(T(),pe(at(e.iconComponent)))]),_:1},8,["class"])),[[Yt,!e.showClearBtn]]):ve("v-if",!0),e.showClearBtn&&e.clearIcon?(T(),pe(p,{key:1,class:C([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:ce(e.handleClear,["prevent","stop"])},{default:J(()=>[(T(),pe(at(e.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0),e.validateState&&e.validateIcon?(T(),pe(p,{key:2,class:C([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J(()=>[(T(),pe(at(e.validateIcon)))]),_:1},8,["class"])):ve("v-if",!0)],2)],2)]),content:J(()=>[Se(g,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:J(f=>[Ue(e.$slots,"default",Sn(wn(f)))]),empty:J(()=>[Ue(e.$slots,"empty",{},()=>[te("p",{class:C(e.nsSelectV2.e("empty"))},Ie(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[m,e.handleClickOutside,e.popperRef]])}var Pt=rt(Ho,[["render",Yo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Pt.install=e=>{e.component(Pt.name,Pt)};const Zo=Pt,oa=Zo;export{na as D,_l as E,la as F,mo as a,ho as b,ea as c,_o as d,bo as e,ta as f,oa as g,Jt as s,xl as t,vo as v};

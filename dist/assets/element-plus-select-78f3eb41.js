import{d as De,c as b,o as M,j as X,k as x,J as We,Q as O,u as h,Y as me,X as Z,T as Oe,a6 as de,a1 as he,_ as Me,a7 as el,v as kt,ah as Ft,w as ze,q as Tt,O as it,P as Rt,t as Dl,U as oe,a4 as xe,a5 as Yt,a0 as Te,x as K,r as Mt,S as fl,B as Cl,n as Qe,ai as Lt,i as pl,aj as _t,b as pt,e as Ot,G as ml,ak as gn,al as Fe,am as tl,F as Je,af as St,ag as Ce,an as Bl,ao as bn,Z as _e,h as Ge,R as yn,l as Nl,K as Ol,a as zt,ap as Sn,aq as wn}from"./@vue-84244734.js";import{b as Nt,c as Cn,u as vl,a as $e,d as Il,E as Kt,_ as rt,w as Pl,e as Fl,f as Zt,g as On,h as Kl,V as Wl,i as Hl,j as Ne,k as In,l as ll,U as Ye,s as Tn,m as ql,C as Xt,n as Mn,o as Vn,p as Gl,q as Ul,r as jl,t as Ql,v as Tl,x as Yl,y as En,z as Zl,A as Xl,B as hl,D as Ln,F as gl,G as mt,H as wt,I as zn,J as kn,K as Rn,L as Jl,M as $n}from"./element-plus-date-8d09e009.js";import{g as ve,d as Wt,e as nl,m as An,i as Ml}from"./lodash-f24e05a6.js";const xl=Nt({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Cn,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Dn={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Bn=De({name:"ElTag"}),Nn=De({...Bn,props:xl,emits:Dn,setup(e,{emit:t}){const l=e,a=vl(),s=$e("tag"),i=b(()=>{const{type:p,hit:g,effect:d,closable:m,round:f}=l;return[s.b(),s.is("closable",m),s.m(p),s.m(a.value),s.m(d),s.is("hit",g),s.is("round",f)]}),r=p=>{t("close",p)},n=p=>{t("click",p)};return(p,g)=>p.disableTransitions?(M(),X("span",{key:0,class:O(h(i)),style:Me({backgroundColor:p.color}),onClick:n},[x("span",{class:O(h(s).e("content"))},[We(p.$slots,"default")],2),p.closable?(M(),me(h(Kt),{key:0,class:O(h(s).e("close")),onClick:de(r,["stop"])},{default:Z(()=>[Oe(h(Il))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)):(M(),me(el,{key:1,name:`${h(s).namespace.value}-zoom-in-center`,appear:""},{default:Z(()=>[x("span",{class:O(h(i)),style:Me({backgroundColor:p.color}),onClick:n},[x("span",{class:O(h(s).e("content"))},[We(p.$slots,"default")],2),p.closable?(M(),me(h(Kt),{key:0,class:O(h(s).e("close")),onClick:de(r,["stop"])},{default:Z(()=>[Oe(h(Il))]),_:1},8,["class","onClick"])):he("v-if",!0)],6)]),_:3},8,["name"]))}});var Pn=rt(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const _l=Pl(Pn),en=Symbol("ElSelectGroup"),Jt=Symbol("ElSelect");function Fn(e,t){const l=kt(Jt),a=kt(en,{disabled:!1}),s=b(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),i=b(()=>l.props.multiple?m(l.props.modelValue,e.value):f(e.value,l.props.modelValue)),r=b(()=>{if(l.props.multiple){const u=l.props.modelValue||[];return!i.value&&u.length>=l.props.multipleLimit&&l.props.multipleLimit>0}else return!1}),n=b(()=>e.label||(s.value?"":e.value)),p=b(()=>e.value||e.label||""),g=b(()=>e.disabled||t.groupDisabled||r.value),d=Tt(),m=(u=[],$)=>{if(s.value){const L=l.props.valueKey;return u&&u.some(G=>Ft(ve(G,L))===ve($,L))}else return u&&u.includes($)},f=(u,$)=>{if(s.value){const{valueKey:L}=l.props;return ve(u,L)===ve($,L)}else return u===$},R=()=>{!e.disabled&&!a.disabled&&(l.hoverIndex=l.optionsArray.indexOf(d.proxy))};ze(()=>n.value,()=>{!e.created&&!l.props.remote&&l.setSelected()}),ze(()=>e.value,(u,$)=>{const{remote:L,valueKey:G}=l.props;if(Object.is(u,$)||(l.onOptionDestroy($,d.proxy),l.onOptionCreate(d.proxy)),!e.created&&!L){if(G&&typeof u=="object"&&typeof $=="object"&&u[G]===$[G])return;l.setSelected()}}),ze(()=>a.disabled,()=>{t.groupDisabled=a.disabled},{immediate:!0});const{queryChange:U}=Ft(l);return ze(U,u=>{const{query:$}=h(u),L=new RegExp(Fl($),"i");t.visible=L.test(n.value)||e.created,t.visible||l.filteredOptionsCount--},{immediate:!0}),{select:l,currentLabel:n,currentValue:p,itemSelected:i,isDisabled:g,hoverItem:R}}const Kn=De({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=$e("select"),l=b(()=>[t.be("dropdown","item"),t.is("disabled",h(r)),{selected:h(i),hover:h(d)}]),a=it({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:i,isDisabled:r,select:n,hoverItem:p}=Fn(e,a),{visible:g,hover:d}=Rt(a),m=Tt().proxy;n.onOptionCreate(m),Dl(()=>{const R=m.value,{selected:U}=n,$=(n.props.multiple?U:[U]).some(L=>L.value===m.value);oe(()=>{n.cachedOptions.get(R)===m&&!$&&n.cachedOptions.delete(R)}),n.onOptionDestroy(R,m)});function f(){e.disabled!==!0&&a.groupDisabled!==!0&&n.handleOptionSelect(m)}return{ns:t,containerKls:l,currentLabel:s,itemSelected:i,isDisabled:r,select:n,hoverItem:p,visible:g,hover:d,selectOptionClick:f,states:a}}});function Wn(e,t,l,a,s,i){return xe((M(),X("li",{class:O(e.containerKls),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=de((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[We(e.$slots,"default",{},()=>[x("span",null,Te(e.currentLabel),1)])],34)),[[Yt,e.visible]])}var bl=rt(Kn,[["render",Wn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Hn=De({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=kt(Jt),t=$e("select"),l=b(()=>e.props.popperClass),a=b(()=>e.props.multiple),s=b(()=>e.props.fitInputWidth),i=K("");function r(){var n;i.value=`${(n=e.selectWrapper)==null?void 0:n.offsetWidth}px`}return Mt(()=>{r(),fl(e.selectWrapper,r)}),{ns:t,minWidth:i,popperClass:l,isMultiple:a,isFitInputWidth:s}}});function qn(e,t,l,a,s,i){return M(),X("div",{class:O([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Me({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[We(e.$slots,"default")],6)}var Gn=rt(Hn,[["render",qn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Un(e){const{t}=Zt();return it({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const jn=(e,t,l)=>{const{t:a}=Zt(),s=$e("select");On({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},b(()=>e.suffixTransition===!1));const i=K(null),r=K(null),n=K(null),p=K(null),g=K(null),d=K(null),m=K(null),f=K(null),R=K(-1),U=Cl({query:""}),u=Cl(""),$=K([]);let L=0;const{form:G,formItem:le}=Kl(),N=b(()=>!e.filterable||e.multiple||!t.visible),te=b(()=>e.disabled||(G==null?void 0:G.disabled)),z=b(()=>{const c=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!te.value&&t.inputHovering&&c}),J=b(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),V=b(()=>s.is("reverse",J.value&&t.visible&&e.suffixTransition)),A=b(()=>(G==null?void 0:G.statusIcon)&&(le==null?void 0:le.validateState)&&Wl[le==null?void 0:le.validateState]),C=b(()=>e.remote?300:0),_=b(()=>e.loading?e.loadingText||a("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||a("el.select.noMatch"):t.options.size===0?e.noDataText||a("el.select.noData"):null),D=b(()=>{const c=Array.from(t.options.values()),v=[];return $.value.forEach(S=>{const o=c.findIndex(y=>y.currentLabel===S);o>-1&&v.push(c[o])}),v.length?v:c}),se=b(()=>Array.from(t.cachedOptions.values())),Ve=b(()=>{const c=D.value.filter(v=>!v.created).some(v=>v.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!c}),fe=vl(),ge=b(()=>["small"].includes(fe.value)?"small":"default"),ue=b({get(){return t.visible&&_.value!==!1},set(c){t.visible=c}});ze([()=>te.value,()=>fe.value,()=>G==null?void 0:G.size],()=>{oe(()=>{ee()})}),ze(()=>e.placeholder,c=>{t.cachedPlaceHolder=t.currentPlaceholder=c,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),ze(()=>e.modelValue,(c,v)=>{e.multiple&&(ee(),c&&c.length>0||r.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",be(t.query))),Ie(),e.filterable&&!e.multiple&&(t.inputLength=20),!Wt(c,v)&&e.validateEvent&&(le==null||le.validate("change").catch(S=>Hl()))},{flush:"post",deep:!0}),ze(()=>t.visible,c=>{var v,S,o,y,I;c?((S=(v=p.value)==null?void 0:v.updatePopper)==null||S.call(v),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(y=(o=n.value)==null?void 0:o.focus)==null||y.call(o),e.multiple?(I=r.value)==null||I.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),be(t.query),!e.multiple&&!e.remote&&(U.value.query="",Lt(U),Lt(u)))):(e.filterable&&(Qe(e.filterMethod)&&e.filterMethod(""),Qe(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,q(),oe(()=>{r.value&&r.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),l.emit("visible-change",c)}),ze(()=>t.options.entries(),()=>{var c,v,S;if(!pl)return;(v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c),e.multiple&&ee();const o=((S=m.value)==null?void 0:S.querySelectorAll("input"))||[];Array.from(o).includes(document.activeElement)||Ie(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&Ae()},{flush:"post"}),ze(()=>t.hoverIndex,c=>{Ne(c)&&c>-1?R.value=D.value[c]||{}:R.value={},D.value.forEach(v=>{v.hover=R.value===v})});const ee=()=>{oe(()=>{var c,v;if(!i.value)return;const S=i.value.$el.querySelector("input");L=L||(S.clientHeight>0?S.clientHeight+2:0);const o=d.value,y=In(fe.value||(G==null?void 0:G.size)),I=fe.value||y===L||L<=0?y:L;!(S.offsetParent===null)&&(S.style.height=`${(t.selected.length===0?I:Math.max(o?o.clientHeight+(o.clientHeight>I?6:0):0,I))-2}px`),t.visible&&_.value!==!1&&((v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c))})},be=async c=>{if(!(t.previousQuery===c||t.isOnComposition)){if(t.previousQuery===null&&(Qe(e.filterMethod)||Qe(e.remoteMethod))){t.previousQuery=c;return}t.previousQuery=c,oe(()=>{var v,S;t.visible&&((S=(v=p.value)==null?void 0:v.updatePopper)==null||S.call(v))}),t.hoverIndex=-1,e.multiple&&e.filterable&&oe(()=>{const v=r.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,v):v,Ee(),ee()}),e.remote&&Qe(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(c)):Qe(e.filterMethod)?(e.filterMethod(c),Lt(u)):(t.filteredOptionsCount=t.optionsCount,U.value.query=c,Lt(U),Lt(u)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await oe(),Ae())}},Ee=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=r.value.value?"":t.cachedPlaceHolder)},Ae=()=>{const c=D.value.filter(o=>o.visible&&!o.disabled&&!o.states.groupDisabled),v=c.find(o=>o.created),S=c[0];t.hoverIndex=je(D.value,v||S)},Ie=()=>{var c;if(e.multiple)t.selectedLabel="";else{const S=T(e.modelValue);(c=S.props)!=null&&c.created?(t.createdLabel=S.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=S.currentLabel,t.selected=S,e.filterable&&(t.query=t.selectedLabel);return}const v=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(S=>{v.push(T(S))}),t.selected=v,oe(()=>{ee()})},T=c=>{let v;const S=_t(c).toLowerCase()==="object",o=_t(c).toLowerCase()==="null",y=_t(c).toLowerCase()==="undefined";for(let we=t.cachedOptions.size-1;we>=0;we--){const ce=se.value[we];if(S?ve(ce.value,e.valueKey)===ve(c,e.valueKey):ce.value===c){v={value:c,currentLabel:ce.currentLabel,isDisabled:ce.isDisabled};break}}if(v)return v;const I=S?c.label:!o&&!y?c:"",W={value:c,currentLabel:I};return e.multiple&&(W.hitState=!1),W},q=()=>{setTimeout(()=>{const c=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(v=>D.value.findIndex(S=>ve(S,c)===ve(v,c)))):t.hoverIndex=-1:t.hoverIndex=D.value.findIndex(v=>lt(v)===lt(t.selected))},300)},H=()=>{var c,v;pe(),(v=(c=p.value)==null?void 0:c.updatePopper)==null||v.call(c),e.multiple&&ee()},pe=()=>{var c;t.inputWidth=(c=i.value)==null?void 0:c.$el.offsetWidth},Q=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,be(t.query))},ae=nl(()=>{Q()},C.value),ie=nl(c=>{be(c.target.value)},C.value),ye=c=>{Wt(e.modelValue,c)||l.emit(Xt,c)},Re=c=>{if(c.code!==ll.delete){if(c.target.value.length<=0&&!F()){const v=e.modelValue.slice();v.pop(),l.emit(Ye,v),ye(v)}c.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},He=(c,v)=>{const S=t.selected.indexOf(v);if(S>-1&&!te.value){const o=e.modelValue.slice();o.splice(S,1),l.emit(Ye,o),ye(o),l.emit("remove-tag",v.value)}c.stopPropagation(),ne()},qe=c=>{c.stopPropagation();const v=e.multiple?[]:"";if(!Ot(v))for(const S of t.selected)S.isDisabled&&v.push(S.value);l.emit(Ye,v),ye(v),t.hoverIndex=-1,t.visible=!1,l.emit("clear"),ne()},Ue=c=>{var v;if(e.multiple){const S=(e.modelValue||[]).slice(),o=je(S,c.value);o>-1?S.splice(o,1):(e.multipleLimit<=0||S.length<e.multipleLimit)&&S.push(c.value),l.emit(Ye,S),ye(S),c.created&&(t.query="",be(""),t.inputLength=20),e.filterable&&((v=r.value)==null||v.focus())}else l.emit(Ye,c.value),ye(c.value),t.visible=!1;ut(),!t.visible&&oe(()=>{w(c)})},je=(c=[],v)=>{if(!pt(v))return c.indexOf(v);const S=e.valueKey;let o=-1;return c.some((y,I)=>Ft(ve(y,S))===ve(v,S)?(o=I,!0):!1),o},ut=()=>{const c=r.value||i.value;c&&(c==null||c.focus())},w=c=>{var v,S,o,y,I;const W=Array.isArray(c)?c[0]:c;let we=null;if(W!=null&&W.value){const ce=D.value.filter(st=>st.value===W.value);ce.length>0&&(we=ce[0].$el)}if(p.value&&we){const ce=(y=(o=(S=(v=p.value)==null?void 0:v.popperRef)==null?void 0:S.contentRef)==null?void 0:o.querySelector)==null?void 0:y.call(o,`.${s.be("dropdown","wrap")}`);ce&&Tn(ce,we)}(I=f.value)==null||I.handleScroll()},E=c=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(c.value,c),t.cachedOptions.set(c.value,c)},k=(c,v)=>{t.options.get(c)===v&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(c))},P=c=>{c.code!==ll.backspace&&F(!1),t.inputLength=r.value.value.length*15+20,ee()},F=c=>{if(!Array.isArray(t.selected))return;const v=t.selected[t.selected.length-1];if(v)return c===!0||c===!1?(v.hitState=c,c):(v.hitState=!v.hitState,v.hitState)},B=c=>{const v=c.target.value;if(c.type==="compositionend")t.isOnComposition=!1,oe(()=>be(v));else{const S=v[v.length-1]||"";t.isOnComposition=!ql(S)}},j=()=>{oe(()=>w(t.selected))},Y=c=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,l.emit("focus",c))},ne=()=>{var c,v;t.visible?(c=r.value||i.value)==null||c.focus():(v=i.value)==null||v.focus()},re=()=>{var c,v,S;t.visible=!1,(c=i.value)==null||c.blur(),(S=(v=n.value)==null?void 0:v.blur)==null||S.call(v)},ke=c=>{var v,S,o;(v=p.value)!=null&&v.isFocusInsideContent(c)||(S=g.value)!=null&&S.isFocusInsideContent(c)||(o=m.value)!=null&&o.contains(c.relatedTarget)||(t.visible&&Se(),t.focused=!1,l.emit("blur",c))},Le=c=>{qe(c)},Se=()=>{t.visible=!1},et=c=>{t.visible&&(c.preventDefault(),c.stopPropagation(),t.visible=!1)},tt=c=>{c&&!t.mouseEnter||te.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!p.value||!p.value.isFocusInsideContent())&&(t.visible=!t.visible),ne())},vt=()=>{t.visible?D.value[t.hoverIndex]&&Ue(D.value[t.hoverIndex]):tt()},lt=c=>pt(c.value)?ve(c.value,e.valueKey):c.value,nt=b(()=>D.value.filter(c=>c.visible).every(c=>c.disabled)),ot=b(()=>t.selected.slice(0,e.maxCollapseTags)),Vt=b(()=>t.selected.slice(e.maxCollapseTags)),Pe=c=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!nt.value){c==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):c==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const v=D.value[t.hoverIndex];(v.disabled===!0||v.states.groupDisabled===!0||!v.visible)&&Pe(c),oe(()=>w(R.value))}},ct=()=>{t.mouseEnter=!0},Et=()=>{t.mouseEnter=!1},ht=(c,v)=>{var S,o;He(c,v),(o=(S=g.value)==null?void 0:S.updatePopper)==null||o.call(S)},at=b(()=>({maxWidth:`${h(t.inputWidth)-32-(A.value?22:0)}px`,width:"100%"}));return{optionList:$,optionsArray:D,selectSize:fe,handleResize:H,debouncedOnInputChange:ae,debouncedQueryChange:ie,deletePrevTag:Re,deleteTag:He,deleteSelected:qe,handleOptionSelect:Ue,scrollToOption:w,readonly:N,resetInputHeight:ee,showClose:z,iconComponent:J,iconReverse:V,showNewOption:Ve,collapseTagSize:ge,setSelected:Ie,managePlaceholder:Ee,selectDisabled:te,emptyText:_,toggleLastOptionHitState:F,resetInputState:P,handleComposition:B,onOptionCreate:E,onOptionDestroy:k,handleMenuEnter:j,handleFocus:Y,focus:ne,blur:re,handleBlur:ke,handleClearClick:Le,handleClose:Se,handleKeydownEscape:et,toggleMenu:tt,selectOption:vt,getValueKey:lt,navigateOptions:Pe,handleDeleteTooltipTag:ht,dropMenuVisible:ue,queryChange:U,groupQueryChange:u,showTagList:ot,collapseTagList:Vt,selectTagsStyle:at,reference:i,input:r,iOSInput:n,tooltipRef:p,tagTooltipRef:g,tags:d,selectWrapper:m,scrollbar:f,handleMouseEnter:ct,handleMouseLeave:Et}};var Qn=De({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:l}){let a=[];function s(i,r){if(i.length!==r.length)return!1;for(const[n]of i.entries())if(i[n]!=r[n])return!1;return!0}return()=>{var i,r;const n=(i=t.default)==null?void 0:i.call(t),p=[];function g(d){Array.isArray(d)&&d.forEach(m=>{var f,R,U,u;const $=(f=(m==null?void 0:m.type)||{})==null?void 0:f.name;$==="ElOptionGroup"?g(!Ot(m.children)&&!Array.isArray(m.children)&&Qe((R=m.children)==null?void 0:R.default)?(U=m.children)==null?void 0:U.default():m.children):$==="ElOption"?p.push((u=m.props)==null?void 0:u.label):Array.isArray(m.children)&&g(m.children)})}return n.length&&g((r=n[0])==null?void 0:r.children),s(p,a)||(a=p,l("update-options",p)),n}}});const Vl="ElSelect",Yn=De({name:Vl,componentName:Vl,components:{ElInput:Mn,ElSelectMenu:Gn,ElOption:bl,ElOptions:Qn,ElTag:_l,ElScrollbar:Vn,ElTooltip:Gl,ElIcon:Kt},directives:{ClickOutside:Ul},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:jl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:Ql.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Tl,default:Yl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:Tl,default:En},tagType:{...xl.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Zl,default:"bottom-start"}},emits:[Ye,Xt,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const l=$e("select"),a=$e("input"),{t:s}=Zt(),i=Un(e),{optionList:r,optionsArray:n,selectSize:p,readonly:g,handleResize:d,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:R,deletePrevTag:U,deleteTag:u,deleteSelected:$,handleOptionSelect:L,scrollToOption:G,setSelected:le,resetInputHeight:N,managePlaceholder:te,showClose:z,selectDisabled:J,iconComponent:V,iconReverse:A,showNewOption:C,emptyText:_,toggleLastOptionHitState:D,resetInputState:se,handleComposition:Ve,onOptionCreate:fe,onOptionDestroy:ge,handleMenuEnter:ue,handleFocus:ee,focus:be,blur:Ee,handleBlur:Ae,handleClearClick:Ie,handleClose:T,handleKeydownEscape:q,toggleMenu:H,selectOption:pe,getValueKey:Q,navigateOptions:ae,handleDeleteTooltipTag:ie,dropMenuVisible:ye,reference:Re,input:He,iOSInput:qe,tooltipRef:Ue,tagTooltipRef:je,tags:ut,selectWrapper:w,scrollbar:E,queryChange:k,groupQueryChange:P,handleMouseEnter:F,handleMouseLeave:B,showTagList:j,collapseTagList:Y,selectTagsStyle:ne}=jn(e,i,t),{inputWidth:re,selected:ke,inputLength:Le,filteredOptionsCount:Se,visible:et,selectedLabel:tt,hoverIndex:vt,query:lt,inputHovering:nt,currentPlaceholder:ot,menuVisibleOnFocus:Vt,isOnComposition:Pe,options:ct,cachedOptions:Et,optionsCount:ht,prefixWidth:at}=Rt(i),c=b(()=>{const Be=[l.b()],dt=h(p);return dt&&Be.push(l.m(dt)),e.disabled&&Be.push(l.m("disabled")),Be}),v=b(()=>[l.e("tags"),l.is("disabled",h(J))]),S=b(()=>[l.b("tags-wrapper"),{"has-prefix":h(at)&&h(ke).length}]),o=b(()=>[l.e("input"),l.is(h(p)),l.is("disabled",h(J))]),y=b(()=>[l.e("input"),l.is(h(p)),l.em("input","iOS")]),I=b(()=>[l.is("empty",!e.allowCreate&&!!h(lt)&&h(Se)===0)]),W=b(()=>({maxWidth:`${h(re)>123?h(re)-123:h(re)-75}px`})),we=b(()=>({marginLeft:`${h(at)}px`,flexGrow:1,width:`${h(Le)/(h(re)-32)}%`,maxWidth:`${h(re)-42}px`}));ml(Jt,it({props:e,options:ct,optionsArray:n,cachedOptions:Et,optionsCount:ht,filteredOptionsCount:Se,hoverIndex:vt,handleOptionSelect:L,onOptionCreate:fe,onOptionDestroy:ge,selectWrapper:w,selected:ke,setSelected:le,queryChange:k,groupQueryChange:P})),Mt(()=>{i.cachedPlaceHolder=ot.value=e.placeholder||(()=>s("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ot.value=""),fl(w,d),e.remote&&e.multiple&&N(),oe(()=>{const Be=Re.value&&Re.value.$el;if(Be&&(re.value=Be.getBoundingClientRect().width,t.slots.prefix)){const dt=Be.querySelector(`.${a.e("prefix")}`);at.value=Math.max(dt.getBoundingClientRect().width+11,30)}}),le()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Ye,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Ye,"");const ce=b(()=>{var Be,dt;return(dt=(Be=Ue.value)==null?void 0:Be.popperRef)==null?void 0:dt.contentRef});return{isIOS:gn,onOptionsRendered:Be=>{r.value=Be},prefixWidth:at,selectSize:p,readonly:g,handleResize:d,collapseTagSize:m,debouncedOnInputChange:f,debouncedQueryChange:R,deletePrevTag:U,deleteTag:u,handleDeleteTooltipTag:ie,deleteSelected:$,handleOptionSelect:L,scrollToOption:G,inputWidth:re,selected:ke,inputLength:Le,filteredOptionsCount:Se,visible:et,selectedLabel:tt,hoverIndex:vt,query:lt,inputHovering:nt,currentPlaceholder:ot,menuVisibleOnFocus:Vt,isOnComposition:Pe,options:ct,resetInputHeight:N,managePlaceholder:te,showClose:z,selectDisabled:J,iconComponent:V,iconReverse:A,showNewOption:C,emptyText:_,toggleLastOptionHitState:D,resetInputState:se,handleComposition:Ve,handleMenuEnter:ue,handleFocus:ee,focus:be,blur:Ee,handleBlur:Ae,handleClearClick:Ie,handleClose:T,handleKeydownEscape:q,toggleMenu:H,selectOption:pe,getValueKey:Q,navigateOptions:ae,dropMenuVisible:ye,reference:Re,input:He,iOSInput:qe,tooltipRef:Ue,popperPaneRef:ce,tags:ut,selectWrapper:w,scrollbar:E,wrapperKls:c,tagsKls:v,tagWrapperKls:S,inputKls:o,iOSInputKls:y,scrollbarKls:I,selectTagsStyle:ne,nsSelect:l,tagTextStyle:W,inputStyle:we,handleMouseEnter:F,handleMouseLeave:B,showTagList:j,collapseTagList:Y,tagTooltipRef:je}}}),Zn=["disabled","autocomplete"],Xn=["disabled"],Jn={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function xn(e,t,l,a,s,i){const r=Fe("el-tag"),n=Fe("el-tooltip"),p=Fe("el-icon"),g=Fe("el-input"),d=Fe("el-option"),m=Fe("el-options"),f=Fe("el-scrollbar"),R=Fe("el-select-menu"),U=tl("click-outside");return xe((M(),X("div",{ref:"selectWrapper",class:O(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...u)=>e.handleMouseEnter&&e.handleMouseEnter(...u)),onMouseleave:t[23]||(t[23]=(...u)=>e.handleMouseLeave&&e.handleMouseLeave(...u)),onClick:t[24]||(t[24]=de((...u)=>e.toggleMenu&&e.toggleMenu(...u),["stop"]))},[Oe(n,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:Z(()=>[x("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=u=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=u=>e.inputHovering=!1)},[e.multiple?(M(),X("div",{key:0,ref:"tags",tabindex:"-1",class:O(e.tagsKls),style:Me(e.selectTagsStyle),onClick:t[15]||(t[15]=(...u)=>e.focus&&e.focus(...u))},[e.collapseTags&&e.selected.length?(M(),me(el,{key:0,onAfterLeave:e.resetInputHeight},{default:Z(()=>[x("span",{class:O(e.tagWrapperKls)},[(M(!0),X(Je,null,St(e.showTagList,u=>(M(),me(r,{key:e.getValueKey(u),closable:!e.selectDisabled&&!u.isDisabled,size:e.collapseTagSize,hit:u.hitState,type:e.tagType,"disable-transitions":"",onClose:$=>e.deleteTag($,u)},{default:Z(()=>[x("span",{class:O(e.nsSelect.e("tags-text")),style:Me(e.tagTextStyle)},Te(u.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(M(),me(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:Z(()=>[e.collapseTagsTooltip?(M(),me(n,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:Z(()=>[x("span",{class:O(e.nsSelect.e("tags-text"))},"+ "+Te(e.selected.length-e.maxCollapseTags),3)]),content:Z(()=>[x("div",{class:O(e.nsSelect.e("collapse-tags"))},[(M(!0),X(Je,null,St(e.collapseTagList,u=>(M(),X("div",{key:e.getValueKey(u),class:O(e.nsSelect.e("collapse-tag"))},[Oe(r,{class:"in-tooltip",closable:!e.selectDisabled&&!u.isDisabled,size:e.collapseTagSize,hit:u.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:$=>e.handleDeleteTooltipTag($,u)},{default:Z(()=>[x("span",{class:O(e.nsSelect.e("tags-text")),style:Me({maxWidth:e.inputWidth-75+"px"})},Te(u.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(M(),X("span",{key:1,class:O(e.nsSelect.e("tags-text"))},"+ "+Te(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):he("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):he("v-if",!0),e.collapseTags?he("v-if",!0):(M(),me(el,{key:1,onAfterLeave:e.resetInputHeight},{default:Z(()=>[x("span",{class:O(e.tagWrapperKls),style:Me(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(M(!0),X(Je,null,St(e.selected,u=>(M(),me(r,{key:e.getValueKey(u),closable:!e.selectDisabled&&!u.isDisabled,size:e.collapseTagSize,hit:u.hitState,type:e.tagType,"disable-transitions":"",onClose:$=>e.deleteTag($,u)},{default:Z(()=>[x("span",{class:O(e.nsSelect.e("tags-text")),style:Me({maxWidth:e.inputWidth-75+"px"})},Te(u.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?xe((M(),X("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=u=>e.query=u),type:"text",class:O(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Me(e.inputStyle),onFocus:t[1]||(t[1]=(...u)=>e.handleFocus&&e.handleFocus(...u)),onBlur:t[2]||(t[2]=(...u)=>e.handleBlur&&e.handleBlur(...u)),onKeyup:t[3]||(t[3]=(...u)=>e.managePlaceholder&&e.managePlaceholder(...u)),onKeydown:[t[4]||(t[4]=(...u)=>e.resetInputState&&e.resetInputState(...u)),t[5]||(t[5]=Ce(de(u=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Ce(de(u=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Ce((...u)=>e.handleKeydownEscape&&e.handleKeydownEscape(...u),["esc"])),t[8]||(t[8]=Ce(de((...u)=>e.selectOption&&e.selectOption(...u),["stop","prevent"]),["enter"])),t[9]||(t[9]=Ce((...u)=>e.deletePrevTag&&e.deletePrevTag(...u),["delete"])),t[10]||(t[10]=Ce(u=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...u)=>e.handleComposition&&e.handleComposition(...u)),onCompositionupdate:t[12]||(t[12]=(...u)=>e.handleComposition&&e.handleComposition(...u)),onCompositionend:t[13]||(t[13]=(...u)=>e.handleComposition&&e.handleComposition(...u)),onInput:t[14]||(t[14]=(...u)=>e.debouncedQueryChange&&e.debouncedQueryChange(...u))},null,46,Zn)),[[Bl,e.query]]):he("v-if",!0)],6)):he("v-if",!0),he(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(M(),X("input",{key:1,ref:"iOSInput",class:O(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Xn)):he("v-if",!0),Oe(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=u=>e.selectedLabel=u),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:O([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=Ce(de(u=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[18]||(t[18]=Ce(de(u=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Ce(de(e.selectOption,["stop","prevent"]),["enter"]),Ce(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=Ce(u=>e.visible=!1,["tab"]))]},bn({suffix:Z(()=>[e.iconComponent&&!e.showClose?(M(),me(p,{key:0,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Z(()=>[(M(),me(_e(e.iconComponent)))]),_:1},8,["class"])):he("v-if",!0),e.showClose&&e.clearIcon?(M(),me(p,{key:1,class:O([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:Z(()=>[(M(),me(_e(e.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:Z(()=>[x("div",Jn,[We(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:Z(()=>[Oe(R,null,{default:Z(()=>[xe(Oe(f,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:O(e.scrollbarKls)},{default:Z(()=>[e.showNewOption?(M(),me(d,{key:0,value:e.query,created:!0},null,8,["value"])):he("v-if",!0),Oe(m,{onUpdateOptions:e.onOptionsRendered},{default:Z(()=>[We(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[Yt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(M(),X(Je,{key:0},[e.$slots.empty?We(e.$slots,"empty",{key:0}):(M(),X("p",{key:1,class:O(e.nsSelect.be("dropdown","empty"))},Te(e.emptyText),3))],64)):he("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[U,e.handleClose,e.popperPaneRef]])}var _n=rt(Yn,[["render",xn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const eo=De({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=$e("select"),l=K(!0),a=Tt(),s=K([]);ml(en,it({...Rt(e)}));const i=kt(Jt);Mt(()=>{s.value=r(a.subTree)});const r=p=>{const g=[];return Array.isArray(p.children)&&p.children.forEach(d=>{var m;d.type&&d.type.name==="ElOption"&&d.component&&d.component.proxy?g.push(d.component.proxy):(m=d.children)!=null&&m.length&&g.push(...r(d))}),g},{groupQueryChange:n}=Ft(i);return ze(n,()=>{l.value=s.value.some(p=>p.visible===!0)},{flush:"post"}),{visible:l,ns:t}}});function to(e,t,l,a,s,i){return xe((M(),X("ul",{class:O(e.ns.be("group","wrap"))},[x("li",{class:O(e.ns.be("group","title"))},Te(e.label),3),x("li",null,[x("ul",{class:O(e.ns.b("group"))},[We(e.$slots,"default")],2)])],2)),[[Yt,e.visible]])}var tn=rt(eo,[["render",to],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Jo=Pl(_n,{Option:bl,OptionGroup:tn}),xo=Xl(bl),_o=Xl(tn);var El=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function lo(e,t){return!!(e===t||El(e)&&El(t))}function no(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!lo(e[l],t[l]))return!1;return!0}function oo(e,t){t===void 0&&(t=no);var l=null;function a(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(l&&l.lastThis===this&&t(s,l.lastArgs))return l.lastResult;var r=e.apply(this,s);return l={lastResult:r,lastArgs:s,lastThis:this},r}return a.clear=function(){l=null},a}const ln=()=>{const t=Tt().proxy.$props;return b(()=>{const l=(a,s,i)=>({});return t.perfMode?An(l):oo(l)})},ol=50,Ht="itemRendered",qt="scroll",bt="forward",Gt="backward",Ke="auto",xt="smart",$t="start",Ze="center",At="end",It="horizontal",yl="vertical",ao="ltr",Ct="rtl",Dt="negative",Sl="positive-ascending",wl="positive-descending",so={[It]:"left",[yl]:"top"},io=20,ro={[It]:"deltaX",[yl]:"deltaY"},uo=({atEndEdge:e,atStartEdge:t,layout:l},a)=>{let s,i=0;const r=p=>p<0&&t.value||p>0&&e.value;return{hasReachedEdge:r,onWheel:p=>{hl(s);const g=p[ro[l.value]];r(i)&&r(i+g)||(i+=g,Ln()||p.preventDefault(),s=gl(()=>{a(i),i=0}))}}},al=mt({type:wt([Number,Function]),required:!0}),sl=mt({type:Number}),il=mt({type:Number,default:2}),co=mt({type:String,values:["ltr","rtl"],default:"ltr"}),rl=mt({type:Number,default:0}),Ut=mt({type:Number,required:!0}),nn=mt({type:String,values:["horizontal","vertical"],default:yl}),on=Nt({className:{type:String,default:""},containerElement:{type:wt([String,Object]),default:"div"},data:{type:wt(Array),default:()=>zn([])},direction:co,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:wt([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),fo=Nt({cache:il,estimatedItemSize:sl,layout:nn,initScrollOffset:rl,total:Ut,itemSize:al,...on}),ul={type:Number,default:6},an={type:Number,default:0},sn={type:Number,default:2},po=Nt({columnCache:il,columnWidth:al,estimatedColumnWidth:sl,estimatedRowHeight:sl,initScrollLeft:rl,initScrollTop:rl,itemKey:{type:wt(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:il,rowHeight:al,totalColumn:Ut,totalRow:Ut,hScrollbarSize:ul,vScrollbarSize:ul,scrollbarStartGap:an,scrollbarEndGap:sn,role:String,...on}),mo=Nt({alwaysOn:Boolean,class:String,layout:nn,total:Ut,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:ul,startGap:an,endGap:sn,visible:Boolean}),ft=(e,t)=>e<t?bt:Gt,Bt=e=>e===ao||e===Ct||e===It,Ll=e=>e===Ct;let gt=null;function jt(e=!1){if(gt===null||e){const t=document.createElement("div"),l=t.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const a=document.createElement("div"),s=a.style;return s.width="100px",s.height="100px",t.appendChild(a),document.body.appendChild(t),t.scrollLeft>0?gt=wl:(t.scrollLeft=1,t.scrollLeft===0?gt=Dt:gt=Sl),document.body.removeChild(t),gt}return gt}function vo({move:e,size:t,bar:l},a){const s={},i=`translate${l.axis}(${e}px)`;return s[l.size]=t,s.transform=i,s.msTransform=i,s.webkitTransform=i,a==="horizontal"?s.height="100%":s.width="100%",s}const cl=De({name:"ElVirtualScrollBar",props:mo,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const l=b(()=>e.startGap+e.endGap),a=$e("virtual-scrollbar"),s=$e("scrollbar"),i=K(),r=K();let n=null,p=null;const g=it({isDragging:!1,traveled:0}),d=b(()=>kn[e.layout]),m=b(()=>e.clientSize-h(l)),f=b(()=>({position:"absolute",width:`${It===e.layout?m.value:e.scrollbarSize}px`,height:`${It===e.layout?e.scrollbarSize:m.value}px`,[so[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),R=b(()=>{const z=e.ratio,J=e.clientSize;if(z>=100)return Number.POSITIVE_INFINITY;if(z>=50)return z*J/100;const V=J/3;return Math.floor(Math.min(Math.max(z*J,io),V))}),U=b(()=>{if(!Number.isFinite(R.value))return{display:"none"};const z=`${R.value}px`;return vo({bar:d.value,size:z,move:g.traveled},e.layout)}),u=b(()=>Math.floor(e.clientSize-R.value-h(l))),$=()=>{window.addEventListener("mousemove",N),window.addEventListener("mouseup",le);const z=h(r);z&&(p=document.onselectstart,document.onselectstart=()=>!1,z.addEventListener("touchmove",N),z.addEventListener("touchend",le))},L=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",le),document.onselectstart=p,p=null;const z=h(r);z&&(z.removeEventListener("touchmove",N),z.removeEventListener("touchend",le))},G=z=>{z.stopImmediatePropagation(),!(z.ctrlKey||[1,2].includes(z.button))&&(g.isDragging=!0,g[d.value.axis]=z.currentTarget[d.value.offset]-(z[d.value.client]-z.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),$())},le=()=>{g.isDragging=!1,g[d.value.axis]=0,t("stop-move"),L()},N=z=>{const{isDragging:J}=g;if(!J||!r.value||!i.value)return;const V=g[d.value.axis];if(!V)return;hl(n);const A=(i.value.getBoundingClientRect()[d.value.direction]-z[d.value.client])*-1,C=r.value[d.value.offset]-V,_=A-C;n=gl(()=>{g.traveled=Math.max(e.startGap,Math.min(_,u.value)),t("scroll",_,u.value)})},te=z=>{const J=Math.abs(z.target.getBoundingClientRect()[d.value.direction]-z[d.value.client]),V=r.value[d.value.offset]/2,A=J-V;g.traveled=Math.max(0,Math.min(A,u.value)),t("scroll",A,u.value)};return ze(()=>e.scrollFrom,z=>{g.isDragging||(g.traveled=Math.ceil(z*u.value))}),Dl(()=>{L()}),()=>Ge("div",{role:"presentation",ref:i,class:[a.b(),e.class,(e.alwaysOn||g.isDragging)&&"always-on"],style:f.value,onMousedown:de(te,["stop","prevent"]),onTouchstartPrevent:G},Ge("div",{ref:r,class:s.e("thumb"),style:U.value,onMousedown:G},[]))}}),rn=({name:e,getOffset:t,getItemSize:l,getItemOffset:a,getEstimatedTotalSize:s,getStartIndexForOffset:i,getStopIndexForStartIndex:r,initCache:n,clearCache:p,validateProps:g})=>De({name:e??"ElVirtualList",props:fo,emits:[Ht,qt],setup(d,{emit:m,expose:f}){g(d);const R=Tt(),U=$e("vl"),u=K(n(d,R)),$=ln(),L=K(),G=K(),le=K(),N=K({isScrolling:!1,scrollDir:"forward",scrollOffset:Ne(d.initScrollOffset)?d.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:d.scrollbarAlwaysOn}),te=b(()=>{const{total:T,cache:q}=d,{isScrolling:H,scrollDir:pe,scrollOffset:Q}=h(N);if(T===0)return[0,0,0,0];const ae=i(d,Q,h(u)),ie=r(d,ae,Q,h(u)),ye=!H||pe===Gt?Math.max(1,q):1,Re=!H||pe===bt?Math.max(1,q):1;return[Math.max(0,ae-ye),Math.max(0,Math.min(T-1,ie+Re)),ae,ie]}),z=b(()=>s(d,h(u))),J=b(()=>Bt(d.layout)),V=b(()=>[{position:"relative",[`overflow-${J.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:Ne(d.height)?`${d.height}px`:d.height,width:Ne(d.width)?`${d.width}px`:d.width},d.style]),A=b(()=>{const T=h(z),q=h(J);return{height:q?"100%":`${T}px`,pointerEvents:h(N).isScrolling?"none":void 0,width:q?`${T}px`:"100%"}}),C=b(()=>J.value?d.width:d.height),{onWheel:_}=uo({atStartEdge:b(()=>N.value.scrollOffset<=0),atEndEdge:b(()=>N.value.scrollOffset>=z.value),layout:b(()=>d.layout)},T=>{var q,H;(H=(q=le.value).onMouseUp)==null||H.call(q),ue(Math.min(N.value.scrollOffset+T,z.value-C.value))}),D=()=>{const{total:T}=d;if(T>0){const[Q,ae,ie,ye]=h(te);m(Ht,Q,ae,ie,ye)}const{scrollDir:q,scrollOffset:H,updateRequested:pe}=h(N);m(qt,q,H,pe)},se=T=>{const{clientHeight:q,scrollHeight:H,scrollTop:pe}=T.currentTarget,Q=h(N);if(Q.scrollOffset===pe)return;const ae=Math.max(0,Math.min(pe,H-q));N.value={...Q,isScrolling:!0,scrollDir:ft(Q.scrollOffset,ae),scrollOffset:ae,updateRequested:!1},oe(Ee)},Ve=T=>{const{clientWidth:q,scrollLeft:H,scrollWidth:pe}=T.currentTarget,Q=h(N);if(Q.scrollOffset===H)return;const{direction:ae}=d;let ie=H;if(ae===Ct)switch(jt()){case Dt:{ie=-H;break}case wl:{ie=pe-q-H;break}}ie=Math.max(0,Math.min(ie,pe-q)),N.value={...Q,isScrolling:!0,scrollDir:ft(Q.scrollOffset,ie),scrollOffset:ie,updateRequested:!1},oe(Ee)},fe=T=>{h(J)?Ve(T):se(T),D()},ge=(T,q)=>{const H=(z.value-C.value)/q*T;ue(Math.min(z.value-C.value,H))},ue=T=>{T=Math.max(T,0),T!==h(N).scrollOffset&&(N.value={...h(N),scrollOffset:T,scrollDir:ft(h(N).scrollOffset,T),updateRequested:!0},oe(Ee))},ee=(T,q=Ke)=>{const{scrollOffset:H}=h(N);T=Math.max(0,Math.min(T,d.total-1)),ue(t(d,T,q,H,h(u)))},be=T=>{const{direction:q,itemSize:H,layout:pe}=d,Q=$.value(p&&H,p&&pe,p&&q);let ae;if(Nl(Q,String(T)))ae=Q[T];else{const ie=a(d,T,h(u)),ye=l(d,T,h(u)),Re=h(J),He=q===Ct,qe=Re?ie:0;Q[T]=ae={position:"absolute",left:He?void 0:`${qe}px`,right:He?`${qe}px`:void 0,top:Re?0:`${ie}px`,height:Re?"100%":`${ye}px`,width:Re?`${ye}px`:"100%"}}return ae},Ee=()=>{N.value.isScrolling=!1,oe(()=>{$.value(-1,null,null)})},Ae=()=>{const T=L.value;T&&(T.scrollTop=0)};Mt(()=>{if(!pl)return;const{initScrollOffset:T}=d,q=h(L);Ne(T)&&q&&(h(J)?q.scrollLeft=T:q.scrollTop=T),D()}),yn(()=>{const{direction:T,layout:q}=d,{scrollOffset:H,updateRequested:pe}=h(N),Q=h(L);if(pe&&Q)if(q===It)if(T===Ct)switch(jt()){case Dt:{Q.scrollLeft=-H;break}case Sl:{Q.scrollLeft=H;break}default:{const{clientWidth:ae,scrollWidth:ie}=Q;Q.scrollLeft=ie-ae-H;break}}else Q.scrollLeft=H;else Q.scrollTop=H});const Ie={ns:U,clientSize:C,estimatedTotalSize:z,windowStyle:V,windowRef:L,innerRef:G,innerStyle:A,itemsToRender:te,scrollbarRef:le,states:N,getItemStyle:be,onScroll:fe,onScrollbarScroll:ge,onWheel:_,scrollTo:ue,scrollToItem:ee,resetScrollTop:Ae};return f({windowRef:L,innerRef:G,getItemStyleCache:$,scrollTo:ue,scrollToItem:ee,resetScrollTop:Ae,states:N}),Ie},render(d){var m;const{$slots:f,className:R,clientSize:U,containerElement:u,data:$,getItemStyle:L,innerElement:G,itemsToRender:le,innerStyle:N,layout:te,total:z,onScroll:J,onScrollbarScroll:V,onWheel:A,states:C,useIsScrolling:_,windowStyle:D,ns:se}=d,[Ve,fe]=le,ge=_e(u),ue=_e(G),ee=[];if(z>0)for(let Ie=Ve;Ie<=fe;Ie++)ee.push((m=f.default)==null?void 0:m.call(f,{data:$,key:Ie,index:Ie,isScrolling:_?C.isScrolling:void 0,style:L(Ie)}));const be=[Ge(ue,{style:N,ref:"innerRef"},Ot(ue)?ee:{default:()=>ee})],Ee=Ge(cl,{ref:"scrollbarRef",clientSize:U,layout:te,onScroll:V,ratio:U*100/this.estimatedTotalSize,scrollFrom:C.scrollOffset/(this.estimatedTotalSize-U),total:z}),Ae=Ge(ge,{class:[se.e("window"),R],style:D,onScroll:J,onWheel:A,ref:"windowRef",key:0},Ot(ge)?[be]:{default:()=>[be]});return Ge("div",{key:0,class:[se.e("wrapper"),C.scrollbarAlwaysOn?"always-on":""]},[Ae,Ee])}}),ho=rn({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:a,width:s},i,r,n)=>{const p=Bt(a)?s:e,g=Math.max(0,t*l-p),d=Math.min(g,i*l),m=Math.max(0,(i+1)*l-p);switch(r===xt&&(n>=m-p&&n<=d+p?r=Ke:r=Ze),r){case $t:return d;case At:return m;case Ze:{const f=Math.round(m+(d-m)/2);return f<Math.ceil(p/2)?0:f>g+Math.floor(p/2)?g:f}case Ke:default:return n>=m&&n<=d?n:n<m?m:d}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:a,width:s},i,r)=>{const n=i*l,p=Bt(a)?s:e,g=Math.ceil((p+r-n)/l);return Math.max(0,Math.min(t-1,i+g-1))},initCache(){},clearCache:!0,validateProps(){}}),yt=(e,t,l)=>{const{itemSize:a}=e,{items:s,lastVisitedIndex:i}=l;if(t>i){let r=0;if(i>=0){const n=s[i];r=n.offset+n.size}for(let n=i+1;n<=t;n++){const p=a(n);s[n]={offset:r,size:p},r+=p}l.lastVisitedIndex=t}return s[t]},go=(e,t,l)=>{const{items:a,lastVisitedIndex:s}=t;return(s>0?a[s].offset:0)>=l?un(e,t,0,s,l):bo(e,t,Math.max(0,s),l)},un=(e,t,l,a,s)=>{for(;l<=a;){const i=l+Math.floor((a-l)/2),r=yt(e,i,t).offset;if(r===s)return i;r<s?l=i+1:r>s&&(a=i-1)}return Math.max(0,l-1)},bo=(e,t,l,a)=>{const{total:s}=e;let i=1;for(;l<s&&yt(e,l,t).offset<a;)l+=i,i*=2;return un(e,t,Math.floor(l/2),Math.min(l,s-1),a)},zl=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:a})=>{let s=0;if(a>=e&&(a=e-1),a>=0){const n=t[a];s=n.offset+n.size}const r=(e-a-1)*l;return s+r},yo=rn({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>yt(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:zl,getOffset:(e,t,l,a,s)=>{const{height:i,layout:r,width:n}=e,p=Bt(r)?n:i,g=yt(e,t,s),d=zl(e,s),m=Math.max(0,Math.min(d-p,g.offset)),f=Math.max(0,g.offset-p+g.size);switch(l===xt&&(a>=f-p&&a<=m+p?l=Ke:l=Ze),l){case $t:return m;case At:return f;case Ze:return Math.round(f+(m-f)/2);case Ke:default:return a>=f&&a<=m?a:a<f?f:m}},getStartIndexForOffset:(e,t,l)=>go(e,l,t),getStopIndexForStartIndex:(e,t,l,a)=>{const{height:s,total:i,layout:r,width:n}=e,p=Bt(r)?n:s,g=yt(e,t,a),d=l+p;let m=g.offset+g.size,f=t;for(;f<i-1&&m<d;)f++,m+=yt(e,f,a).size;return f},initCache({estimatedItemSize:e=ol},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return l.clearCacheAfterIndex=(a,s=!0)=>{var i,r;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,a-1),(i=t.exposed)==null||i.getItemStyleCache(-1),s&&((r=t.proxy)==null||r.$forceUpdate())},l},clearCache:!1,validateProps:({itemSize:e})=>{}}),So=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:a},s)=>{let i=null,r=0,n=0;const p=(d,m)=>{const f=d<=0&&t.value||d>=0&&e.value,R=m<=0&&a.value||m>=0&&l.value;return f&&R};return{hasReachedEdge:p,onWheel:d=>{hl(i);let m=d.deltaX,f=d.deltaY;Math.abs(m)>Math.abs(f)?f=0:m=0,d.shiftKey&&f!==0&&(m=f,f=0),!(p(r,n)&&p(r+m,n+f))&&(r+=m,n+=f,d.preventDefault(),i=gl(()=>{s(r,n),r=0,n=0}))}}},cn=({name:e,clearCache:t,getColumnPosition:l,getColumnStartIndexForOffset:a,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:i,getEstimatedTotalWidth:r,getColumnOffset:n,getRowOffset:p,getRowPosition:g,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:m,initCache:f,injectToInstance:R,validateProps:U})=>De({name:e??"ElVirtualList",props:po,emits:[Ht,qt],setup(u,{emit:$,expose:L,slots:G}){const le=$e("vl");U(u);const N=Tt(),te=K(f(u,N));R==null||R(N,te);const z=K(),J=K(),V=K(),A=K(null),C=K({isScrolling:!1,scrollLeft:Ne(u.initScrollLeft)?u.initScrollLeft:0,scrollTop:Ne(u.initScrollTop)?u.initScrollTop:0,updateRequested:!1,xAxisScrollDir:bt,yAxisScrollDir:bt}),_=ln(),D=b(()=>Number.parseInt(`${u.height}`,10)),se=b(()=>Number.parseInt(`${u.width}`,10)),Ve=b(()=>{const{totalColumn:w,totalRow:E,columnCache:k}=u,{isScrolling:P,xAxisScrollDir:F,scrollLeft:B}=h(C);if(w===0||E===0)return[0,0,0,0];const j=a(u,B,h(te)),Y=s(u,j,B,h(te)),ne=!P||F===Gt?Math.max(1,k):1,re=!P||F===bt?Math.max(1,k):1;return[Math.max(0,j-ne),Math.max(0,Math.min(w-1,Y+re)),j,Y]}),fe=b(()=>{const{totalColumn:w,totalRow:E,rowCache:k}=u,{isScrolling:P,yAxisScrollDir:F,scrollTop:B}=h(C);if(w===0||E===0)return[0,0,0,0];const j=d(u,B,h(te)),Y=m(u,j,B,h(te)),ne=!P||F===Gt?Math.max(1,k):1,re=!P||F===bt?Math.max(1,k):1;return[Math.max(0,j-ne),Math.max(0,Math.min(E-1,Y+re)),j,Y]}),ge=b(()=>i(u,h(te))),ue=b(()=>r(u,h(te))),ee=b(()=>{var w;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Ne(u.height)?`${u.height}px`:u.height,width:Ne(u.width)?`${u.width}px`:u.width},(w=u.style)!=null?w:{}]}),be=b(()=>{const w=`${h(ue)}px`;return{height:`${h(ge)}px`,pointerEvents:h(C).isScrolling?"none":void 0,width:w}}),Ee=()=>{const{totalColumn:w,totalRow:E}=u;if(w>0&&E>0){const[Y,ne,re,ke]=h(Ve),[Le,Se,et,tt]=h(fe);$(Ht,{columnCacheStart:Y,columnCacheEnd:ne,rowCacheStart:Le,rowCacheEnd:Se,columnVisibleStart:re,columnVisibleEnd:ke,rowVisibleStart:et,rowVisibleEnd:tt})}const{scrollLeft:k,scrollTop:P,updateRequested:F,xAxisScrollDir:B,yAxisScrollDir:j}=h(C);$(qt,{xAxisScrollDir:B,scrollLeft:k,yAxisScrollDir:j,scrollTop:P,updateRequested:F})},Ae=w=>{const{clientHeight:E,clientWidth:k,scrollHeight:P,scrollLeft:F,scrollTop:B,scrollWidth:j}=w.currentTarget,Y=h(C);if(Y.scrollTop===B&&Y.scrollLeft===F)return;let ne=F;if(Ll(u.direction))switch(jt()){case Dt:ne=-F;break;case wl:ne=j-k-F;break}C.value={...Y,isScrolling:!0,scrollLeft:ne,scrollTop:Math.max(0,Math.min(B,P-E)),updateRequested:!0,xAxisScrollDir:ft(Y.scrollLeft,ne),yAxisScrollDir:ft(Y.scrollTop,B)},oe(()=>ae()),ie(),Ee()},Ie=(w,E)=>{const k=h(D),P=(ge.value-k)/E*w;H({scrollTop:Math.min(ge.value-k,P)})},T=(w,E)=>{const k=h(se),P=(ue.value-k)/E*w;H({scrollLeft:Math.min(ue.value-k,P)})},{onWheel:q}=So({atXStartEdge:b(()=>C.value.scrollLeft<=0),atXEndEdge:b(()=>C.value.scrollLeft>=ue.value-h(se)),atYStartEdge:b(()=>C.value.scrollTop<=0),atYEndEdge:b(()=>C.value.scrollTop>=ge.value-h(D))},(w,E)=>{var k,P,F,B;(P=(k=J.value)==null?void 0:k.onMouseUp)==null||P.call(k),(B=(F=V.value)==null?void 0:F.onMouseUp)==null||B.call(F);const j=h(se),Y=h(D);H({scrollLeft:Math.min(C.value.scrollLeft+w,ue.value-j),scrollTop:Math.min(C.value.scrollTop+E,ge.value-Y)})}),H=({scrollLeft:w=C.value.scrollLeft,scrollTop:E=C.value.scrollTop})=>{w=Math.max(w,0),E=Math.max(E,0);const k=h(C);E===k.scrollTop&&w===k.scrollLeft||(C.value={...k,xAxisScrollDir:ft(k.scrollLeft,w),yAxisScrollDir:ft(k.scrollTop,E),scrollLeft:w,scrollTop:E,updateRequested:!0},oe(()=>ae()),ie(),Ee())},pe=(w=0,E=0,k=Ke)=>{const P=h(C);E=Math.max(0,Math.min(E,u.totalColumn-1)),w=Math.max(0,Math.min(w,u.totalRow-1));const F=Rn(le.namespace.value),B=h(te),j=i(u,B),Y=r(u,B);H({scrollLeft:n(u,E,k,P.scrollLeft,B,Y>u.width?F:0),scrollTop:p(u,w,k,P.scrollTop,B,j>u.height?F:0)})},Q=(w,E)=>{const{columnWidth:k,direction:P,rowHeight:F}=u,B=_.value(t&&k,t&&F,t&&P),j=`${w},${E}`;if(Nl(B,j))return B[j];{const[,Y]=l(u,E,h(te)),ne=h(te),re=Ll(P),[ke,Le]=g(u,w,ne),[Se]=l(u,E,ne);return B[j]={position:"absolute",left:re?void 0:`${Y}px`,right:re?`${Y}px`:void 0,top:`${Le}px`,height:`${ke}px`,width:`${Se}px`},B[j]}},ae=()=>{C.value.isScrolling=!1,oe(()=>{_.value(-1,null,null)})};Mt(()=>{if(!pl)return;const{initScrollLeft:w,initScrollTop:E}=u,k=h(z);k&&(Ne(w)&&(k.scrollLeft=w),Ne(E)&&(k.scrollTop=E)),Ee()});const ie=()=>{const{direction:w}=u,{scrollLeft:E,scrollTop:k,updateRequested:P}=h(C),F=h(z);if(P&&F){if(w===Ct)switch(jt()){case Dt:{F.scrollLeft=-E;break}case Sl:{F.scrollLeft=E;break}default:{const{clientWidth:B,scrollWidth:j}=F;F.scrollLeft=j-B-E;break}}else F.scrollLeft=Math.max(0,E);F.scrollTop=Math.max(0,k)}},{resetAfterColumnIndex:ye,resetAfterRowIndex:Re,resetAfter:He}=N.proxy;L({windowRef:z,innerRef:A,getItemStyleCache:_,scrollTo:H,scrollToItem:pe,states:C,resetAfterColumnIndex:ye,resetAfterRowIndex:Re,resetAfter:He});const qe=()=>{const{scrollbarAlwaysOn:w,scrollbarStartGap:E,scrollbarEndGap:k,totalColumn:P,totalRow:F}=u,B=h(se),j=h(D),Y=h(ue),ne=h(ge),{scrollLeft:re,scrollTop:ke}=h(C),Le=Ge(cl,{ref:J,alwaysOn:w,startGap:E,endGap:k,class:le.e("horizontal"),clientSize:B,layout:"horizontal",onScroll:T,ratio:B*100/Y,scrollFrom:re/(Y-B),total:F,visible:!0}),Se=Ge(cl,{ref:V,alwaysOn:w,startGap:E,endGap:k,class:le.e("vertical"),clientSize:j,layout:"vertical",onScroll:Ie,ratio:j*100/ne,scrollFrom:ke/(ne-j),total:P,visible:!0});return{horizontalScrollbar:Le,verticalScrollbar:Se}},Ue=()=>{var w;const[E,k]=h(Ve),[P,F]=h(fe),{data:B,totalColumn:j,totalRow:Y,useIsScrolling:ne,itemKey:re}=u,ke=[];if(Y>0&&j>0)for(let Le=P;Le<=F;Le++)for(let Se=E;Se<=k;Se++)ke.push((w=G.default)==null?void 0:w.call(G,{columnIndex:Se,data:B,key:re({columnIndex:Se,data:B,rowIndex:Le}),isScrolling:ne?h(C).isScrolling:void 0,style:Q(Le,Se),rowIndex:Le}));return ke},je=()=>{const w=_e(u.innerElement),E=Ue();return[Ge(w,{style:h(be),ref:A},Ot(w)?E:{default:()=>E})]};return()=>{const w=_e(u.containerElement),{horizontalScrollbar:E,verticalScrollbar:k}=qe(),P=je();return Ge("div",{key:0,class:le.e("wrapper"),role:u.role},[Ge(w,{class:u.className,style:h(ee),onScroll:Ae,onWheel:q,ref:z},Ot(w)?P:{default:()=>P}),E,k])}}}),ea=cn({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},a,s,i,r,n)=>{l=Number(l);const p=Math.max(0,e*t-l),g=Math.min(p,a*t),d=Math.max(0,a*t-l+n+t);switch(s==="smart"&&(i>=d-l&&i<=g+l?s=Ke:s=Ze),s){case $t:return g;case At:return d;case Ze:{const m=Math.round(d+(g-d)/2);return m<Math.ceil(l/2)?0:m>p+Math.floor(l/2)?p:m}case Ke:default:return i>=d&&i<=g?i:d>g||i<d?d:g}},getRowOffset:({rowHeight:e,height:t,totalRow:l},a,s,i,r,n)=>{t=Number(t);const p=Math.max(0,l*e-t),g=Math.min(p,a*e),d=Math.max(0,a*e-t+n+e);switch(s===xt&&(i>=d-t&&i<=g+t?s=Ke:s=Ze),s){case $t:return g;case At:return d;case Ze:{const m=Math.round(d+(g-d)/2);return m<Math.ceil(t/2)?0:m>p+Math.floor(t/2)?p:m}case Ke:default:return i>=d&&i<=g?i:d>g||i<d?d:g}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},a,s)=>{const i=a*e,r=Math.ceil((l+s-i)/e);return Math.max(0,Math.min(t-1,a+r-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},a,s)=>{const i=a*e,r=Math.ceil((l+s-i)/e);return Math.max(0,Math.min(t-1,a+r-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:Qt,min:dn,floor:fn}=Math,wo={column:"columnWidth",row:"rowHeight"},dl={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Xe=(e,t,l,a)=>{const[s,i,r]=[l[a],e[wo[a]],l[dl[a]]];if(t>r){let n=0;if(r>=0){const p=s[r];n=p.offset+p.size}for(let p=r+1;p<=t;p++){const g=i(p);s[p]={offset:n,size:g},n+=g}l[dl[a]]=t}return s[t]},pn=(e,t,l,a,s,i)=>{for(;l<=a;){const r=l+fn((a-l)/2),n=Xe(e,r,t,i).offset;if(n===s)return r;n<s?l=r+1:a=r-1}return Qt(0,l-1)},Co=(e,t,l,a,s)=>{const i=s==="column"?e.totalColumn:e.totalRow;let r=1;for(;l<i&&Xe(e,l,t,s).offset<a;)l+=r,r*=2;return pn(e,t,fn(l/2),dn(l,i-1),a,s)},kl=(e,t,l,a)=>{const[s,i]=[t[a],t[dl[a]]];return(i>0?s[i].offset:0)>=l?pn(e,t,0,i,l,a):Co(e,t,Qt(0,i),l,a)},mn=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:a})=>{let s=0;if(l>=e&&(l=e-1),l>=0){const n=a[l];s=n.offset+n.size}const r=(e-l-1)*t;return s+r},vn=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:a})=>{let s=0;if(a>e&&(a=e-1),a>=0){const n=t[a];s=n.offset+n.size}const r=(e-a-1)*l;return s+r},Oo={column:vn,row:mn},Rl=(e,t,l,a,s,i,r)=>{const[n,p]=[i==="row"?e.height:e.width,Oo[i]],g=Xe(e,t,s,i),d=p(e,s),m=Qt(0,dn(d-n,g.offset)),f=Qt(0,g.offset-n+r+g.size);switch(l===xt&&(a>=f-n&&a<=m+n?l=Ke:l=Ze),l){case $t:return m;case At:return f;case Ze:return Math.round(f+(m-f)/2);case Ke:default:return a>=f&&a<=m?a:f>m||a<f?f:m}},ta=cn({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const a=Xe(e,t,l,"column");return[a.size,a.offset]},getRowPosition:(e,t,l)=>{const a=Xe(e,t,l,"row");return[a.size,a.offset]},getColumnOffset:(e,t,l,a,s,i)=>Rl(e,t,l,a,s,"column",i),getRowOffset:(e,t,l,a,s,i)=>Rl(e,t,l,a,s,"row",i),getColumnStartIndexForOffset:(e,t,l)=>kl(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,a)=>{const s=Xe(e,t,a,"column"),i=l+e.width;let r=s.offset+s.size,n=t;for(;n<e.totalColumn-1&&r<i;)n++,r+=Xe(e,t,a,"column").size;return n},getEstimatedTotalHeight:mn,getEstimatedTotalWidth:vn,getRowStartIndexForOffset:(e,t,l)=>kl(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,a)=>{const{totalRow:s,height:i}=e,r=Xe(e,t,a,"row"),n=l+i;let p=r.size+r.offset,g=t;for(;g<s-1&&p<n;)g++,p+=Xe(e,g,a,"row").size;return g},injectToInstance:(e,t)=>{const l=({columnIndex:i,rowIndex:r},n)=>{var p,g;n=Jl(n)?!0:n,Ne(i)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,i-1)),Ne(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),(p=e.exposed)==null||p.getItemStyleCache.value(-1,null,null),n&&((g=e.proxy)==null||g.$forceUpdate())},a=(i,r)=>{l({columnIndex:i},r)},s=(i,r)=>{l({rowIndex:i},r)};Object.assign(e.proxy,{resetAfterColumnIndex:a,resetAfterRowIndex:s,resetAfter:l})},initCache:({estimatedColumnWidth:e=ol,estimatedRowHeight:t=ol})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Io=De({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:$e("select")}}});function To(e,t,l,a,s,i){return e.item.isTitle?(M(),X("div",{key:0,class:O(e.ns.be("group","title")),style:Me([e.style,{lineHeight:`${e.height}px`}])},Te(e.item.label),7)):(M(),X("div",{key:1,class:O(e.ns.be("group","split")),style:Me(e.style)},[x("span",{class:O(e.ns.be("group","split-dash")),style:Me({top:`${e.height/2}px`})},null,6)],6))}var Mo=rt(Io,[["render",To],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function Vo(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Eo={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Yl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Ql.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:jl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:wt(String),values:Zl,default:"bottom-start"}},Lo={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},zo=De({props:Lo,emits:["select","hover"],setup(e,{emit:t}){const l=$e("select"),{hoverItem:a,selectOptionClick:s}=Vo(e,{emit:t});return{ns:l,hoverItem:a,selectOptionClick:s}}}),ko=["aria-selected"];function Ro(e,t,l,a,s,i){return M(),X("li",{"aria-selected":e.selected,style:Me(e.style),class:O([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:t[1]||(t[1]=de((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[We(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[x("span",null,Te(e.item.label),1)])],46,ko)}var $o=rt(zo,[["render",Ro],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const hn=Symbol("ElSelectV2Injection");var Ao=De({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:l}){const a=kt(hn),s=$e("select"),i=K([]),r=K(),n=b(()=>e.data.length);ze(()=>n.value,()=>{var V,A;(A=(V=a.popper.value).updatePopper)==null||A.call(V)});const p=b(()=>Jl(a.props.estimatedOptionHeight)),g=b(()=>p.value?{itemSize:a.props.itemHeight}:{estimatedSize:a.props.estimatedOptionHeight,itemSize:V=>i.value[V]}),d=(V=[],A)=>{const{props:{valueKey:C}}=a;return pt(A)?V&&V.some(_=>ve(_,C)===ve(A,C)):V.includes(A)},m=(V,A)=>{if(pt(A)){const{valueKey:C}=a.props;return ve(V,C)===ve(A,C)}else return V===A},f=(V,A)=>{const{valueKey:C}=a.props;return a.props.multiple?d(V,ve(A,C)):m(V,ve(A,C))},R=(V,A)=>{const{disabled:C,multiple:_,multipleLimit:D}=a.props;return C||!A&&(_?D>0&&V.length>=D:!1)},U=V=>e.hoveringIndex===V;l({listRef:r,isSized:p,isItemDisabled:R,isItemHovering:U,isItemSelected:f,scrollToItem:V=>{const A=r.value;A&&A.scrollToItem(V)},resetScrollTop:()=>{const V=r.value;V&&V.resetScrollTop()}});const L=V=>{const{index:A,data:C,style:_}=V,D=h(p),{itemSize:se,estimatedSize:Ve}=h(g),{modelValue:fe}=a.props,{onSelect:ge,onHover:ue}=a,ee=C[A];if(ee.type==="Group")return Oe(Mo,{item:ee,style:_,height:D?se:Ve},null);const be=f(fe,ee),Ee=R(fe,be),Ae=U(A);return Oe($o,Ol(V,{selected:be,disabled:ee.disabled||Ee,created:!!ee.created,hovering:Ae,item:ee,onSelect:ge,onHover:ue}),{default:Ie=>{var T;return((T=t.default)==null?void 0:T.call(t,Ie))||Oe("span",null,[ee.label])}})},{onKeyboardNavigate:G,onKeyboardSelect:le}=a,N=()=>{G("forward")},te=()=>{G("backward")},z=()=>{a.expanded=!1},J=V=>{const{code:A}=V,{tab:C,esc:_,down:D,up:se,enter:Ve}=ll;switch(A!==C&&(V.preventDefault(),V.stopPropagation()),A){case C:case _:{z();break}case D:{N();break}case se:{te();break}case Ve:{le();break}}};return()=>{var V;const{data:A,width:C}=e,{height:_,multiple:D,scrollbarAlwaysOn:se}=a.props;if(A.length===0)return Oe("div",{class:s.b("dropdown"),style:{width:`${C}px`}},[(V=t.empty)==null?void 0:V.call(t)]);const Ve=h(p)?ho:yo;return Oe("div",{class:[s.b("dropdown"),s.is("multiple",D)]},[Oe(Ve,Ol({ref:r},h(g),{className:s.be("dropdown","list"),scrollbarAlwaysOn:se,data:A,height:_,width:C,total:A.length,onKeydown:J}),{default:fe=>Oe(L,fe,null)})])}}});function Do(e,t){const l=K(0),a=K(null),s=b(()=>e.allowCreate&&e.filterable);function i(d){const m=f=>f.value===d;return e.options&&e.options.some(m)||t.createdOptions.some(m)}function r(d){s.value&&(e.multiple&&d.created?l.value++:a.value=d)}function n(d){if(s.value)if(d&&d.length>0&&!i(d)){const m={value:d,label:d,created:!0,disabled:!1};t.createdOptions.length>=l.value?t.createdOptions[l.value]=m:t.createdOptions.push(m)}else if(e.multiple)t.createdOptions.length=l.value;else{const m=a.value;t.createdOptions.length=0,m&&m.created&&t.createdOptions.push(m)}}function p(d){if(!s.value||!d||!d.created||d.created&&e.reserveKeyword&&t.inputValue===d.label)return;const m=t.createdOptions.findIndex(f=>f.value===d.value);~m&&(t.createdOptions.splice(m,1),l.value--)}function g(){s.value&&(t.createdOptions.length=0,l.value=0)}return{createNewOption:n,removeNewOption:p,selectNewOption:r,clearAllNewOption:g}}const Bo=e=>{const t=[];return e.forEach(l=>{zt(l.options)?(t.push({label:l.label,isTitle:!0,type:"Group"}),l.options.forEach(a=>{t.push(a)}),t.push({type:"Group"})):t.push(l)}),t};function No(e){const t=K(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:i=>{const r=i.target.value,n=r[r.length-1]||"";t.value=!ql(n)},handleCompositionEnd:i=>{t.value&&(t.value=!1,Qe(e)&&e(i))}}}const $l="",Al=11,Po={larget:51,default:42,small:33},Fo=(e,t)=>{const{t:l}=Zt(),a=$e("select-v2"),s=$e("input"),{form:i,formItem:r}=Kl(),n=it({inputValue:$l,displayInputValue:$l,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),p=K(-1),g=K(-1),d=K(null),m=K(null),f=K(null),R=K(null),U=K(null),u=K(null),$=K(null),L=K(!1),G=b(()=>e.disabled||(i==null?void 0:i.disabled)),le=b(()=>{const o=D.value.length*34;return o>e.height?e.height:o}),N=b(()=>!Ml(e.modelValue)),te=b(()=>{const o=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:N.value;return e.clearable&&!G.value&&n.comboBoxHovering&&o}),z=b(()=>e.remote&&e.filterable?"":$n),J=b(()=>z.value&&a.is("reverse",L.value)),V=b(()=>(r==null?void 0:r.validateState)||""),A=b(()=>Wl[V.value]),C=b(()=>e.remote?300:0),_=b(()=>{const o=D.value;return e.loading?e.loadingText||l("el.select.loading"):e.remote&&n.inputValue===""&&o.length===0?!1:e.filterable&&n.inputValue&&o.length>0?e.noMatchText||l("el.select.noMatch"):o.length===0?e.noDataText||l("el.select.noData"):null}),D=b(()=>{const o=y=>{const I=n.inputValue,W=new RegExp(Fl(I),"i");return I?W.test(y.label||""):!0};return e.loading?[]:Bo(e.options.concat(n.createdOptions).map(y=>{if(zt(y.options)){const I=y.options.filter(o);if(I.length>0)return{...y,options:I}}else if(e.remote||o(y))return y;return null}).filter(y=>y!==null))}),se=b(()=>{const o=new Map;return D.value.forEach((y,I)=>{o.set(B(y),{option:y,index:I})}),o}),Ve=b(()=>D.value.every(o=>o.disabled)),fe=vl(),ge=b(()=>fe.value==="small"?"small":"default"),ue=b(()=>{const o=u.value,y=ge.value||"default",I=o?Number.parseInt(getComputedStyle(o).paddingLeft):0,W=o?Number.parseInt(getComputedStyle(o).paddingRight):0;return n.selectWidth-W-I-Po[y]}),ee=()=>{var o;g.value=((o=U.value)==null?void 0:o.offsetWidth)||200},be=b(()=>({width:`${n.calculatedWidth===0?Al:Math.ceil(n.calculatedWidth)+Al}px`})),Ee=b(()=>zt(e.modelValue)?e.modelValue.length===0&&!n.displayInputValue:e.filterable?n.displayInputValue.length===0:!0),Ae=b(()=>{const o=e.placeholder||l("el.select.placeholder");return e.multiple||Ml(e.modelValue)?o:n.selectedLabel}),Ie=b(()=>{var o,y;return(y=(o=R.value)==null?void 0:o.popperRef)==null?void 0:y.contentRef}),T=b(()=>{if(e.multiple){const o=e.modelValue.length;if(e.modelValue.length>0&&se.value.has(e.modelValue[o-1])){const{index:y}=se.value.get(e.modelValue[o-1]);return y}}else if(e.modelValue&&se.value.has(e.modelValue)){const{index:o}=se.value.get(e.modelValue);return o}return-1}),q=b({get(){return L.value&&_.value!==!1},set(o){L.value=o}}),H=b(()=>n.cachedOptions.slice(0,e.maxCollapseTags)),pe=b(()=>n.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:Q,removeNewOption:ae,selectNewOption:ie,clearAllNewOption:ye}=Do(e,n),{handleCompositionStart:Re,handleCompositionUpdate:He,handleCompositionEnd:qe}=No(o=>ht(o)),Ue=()=>{var o,y,I;(y=(o=m.value)==null?void 0:o.focus)==null||y.call(o),(I=R.value)==null||I.updatePopper()},je=()=>{if(!e.automaticDropdown&&!G.value)return n.isComposing&&(n.softFocus=!0),oe(()=>{var o,y;L.value=!L.value,(y=(o=m.value)==null?void 0:o.focus)==null||y.call(o)})},ut=()=>(e.filterable&&n.inputValue!==n.selectedLabel&&(n.query=n.selectedLabel),E(n.inputValue),oe(()=>{Q(n.inputValue)})),w=nl(ut,C.value),E=o=>{n.previousQuery!==o&&(n.previousQuery=o,e.filterable&&Qe(e.filterMethod)?e.filterMethod(o):e.filterable&&e.remote&&Qe(e.remoteMethod)&&e.remoteMethod(o))},k=o=>{Wt(e.modelValue,o)||t(Xt,o)},P=o=>{t(Ye,o),k(o),n.previousValue=o==null?void 0:o.toString()},F=(o=[],y)=>{if(!pt(y))return o.indexOf(y);const I=e.valueKey;let W=-1;return o.some((we,ce)=>ve(we,I)===ve(y,I)?(W=ce,!0):!1),W},B=o=>pt(o)?ve(o,e.valueKey):o,j=o=>pt(o)?o.label:o,Y=()=>oe(()=>{var o,y;if(!m.value)return;const I=u.value;U.value.height=I.offsetHeight,L.value&&_.value!==!1&&((y=(o=R.value)==null?void 0:o.updatePopper)==null||y.call(o))}),ne=()=>{var o,y;if(re(),ee(),(y=(o=R.value)==null?void 0:o.updatePopper)==null||y.call(o),e.multiple)return Y()},re=()=>{const o=u.value;o&&(n.selectWidth=o.getBoundingClientRect().width)},ke=(o,y,I=!0)=>{var W,we;if(e.multiple){let ce=e.modelValue.slice();const st=F(ce,B(o));st>-1?(ce=[...ce.slice(0,st),...ce.slice(st+1)],n.cachedOptions.splice(st,1),ae(o)):(e.multipleLimit<=0||ce.length<e.multipleLimit)&&(ce=[...ce,B(o)],n.cachedOptions.push(o),ie(o),Pe(y)),P(ce),o.created&&(n.query="",E(""),n.inputLength=20),e.filterable&&!e.reserveKeyword&&((we=(W=m.value).focus)==null||we.call(W),nt("")),e.filterable&&(n.calculatedWidth=$.value.getBoundingClientRect().width),Y(),Et()}else p.value=y,n.selectedLabel=o.label,P(B(o)),L.value=!1,n.isComposing=!1,n.isSilentBlur=I,ie(o),o.created||ye(),Pe(y)},Le=(o,y)=>{const{valueKey:I}=e,W=e.modelValue.indexOf(ve(y,I));if(W>-1&&!G.value){const we=[...e.modelValue.slice(0,W),...e.modelValue.slice(W+1)];return n.cachedOptions.splice(W,1),P(we),t("remove-tag",ve(y,I)),n.softFocus=!0,ae(y),oe(Ue)}o.stopPropagation()},Se=o=>{const y=n.isComposing;n.isComposing=!0,n.softFocus?n.softFocus=!1:y||t("focus",o)},et=o=>(n.softFocus=!1,oe(()=>{var y,I;(I=(y=m.value)==null?void 0:y.blur)==null||I.call(y),$.value&&(n.calculatedWidth=$.value.getBoundingClientRect().width),n.isSilentBlur?n.isSilentBlur=!1:n.isComposing&&t("blur",o),n.isComposing=!1})),tt=()=>{n.displayInputValue.length>0?nt(""):L.value=!1},vt=o=>{if(n.displayInputValue.length===0){o.preventDefault();const y=e.modelValue.slice();y.pop(),ae(n.cachedOptions.pop()),P(y)}},lt=()=>{let o;return zt(e.modelValue)?o=[]:o=void 0,n.softFocus=!0,e.multiple?n.cachedOptions=[]:n.selectedLabel="",L.value=!1,P(o),t("clear"),ye(),oe(Ue)},nt=o=>{n.displayInputValue=o,n.inputValue=o},ot=(o,y=void 0)=>{const I=D.value;if(!["forward","backward"].includes(o)||G.value||I.length<=0||Ve.value)return;if(!L.value)return je();y===void 0&&(y=n.hoveringIndex);let W=-1;o==="forward"?(W=y+1,W>=I.length&&(W=0)):o==="backward"&&(W=y-1,(W<0||W>=I.length)&&(W=I.length-1));const we=I[W];if(we.disabled||we.type==="Group")return ot(o,W);Pe(W),v(W)},Vt=()=>{if(L.value)~n.hoveringIndex&&D.value[n.hoveringIndex]&&ke(D.value[n.hoveringIndex],n.hoveringIndex,!1);else return je()},Pe=o=>{n.hoveringIndex=o},ct=()=>{n.hoveringIndex=-1},Et=()=>{var o;const y=m.value;y&&((o=y.focus)==null||o.call(y))},ht=o=>{const y=o.target.value;if(nt(y),n.displayInputValue.length>0&&!L.value&&(L.value=!0),n.calculatedWidth=$.value.getBoundingClientRect().width,e.multiple&&Y(),e.remote)w();else return ut()},at=()=>(L.value=!1,et()),c=()=>(n.inputValue=n.displayInputValue,oe(()=>{~T.value&&(Pe(T.value),v(n.hoveringIndex))})),v=o=>{f.value.scrollToItem(o)},S=()=>{if(ct(),e.multiple)if(e.modelValue.length>0){let o=!1;n.cachedOptions.length=0,n.previousValue=e.modelValue.toString();for(const y of e.modelValue)if(se.value.has(y)){const{index:I,option:W}=se.value.get(y);n.cachedOptions.push(W),o||Pe(I),o=!0}}else n.cachedOptions=[],n.previousValue=void 0;else if(N.value){n.previousValue=e.modelValue;const o=D.value,y=o.findIndex(I=>B(I)===B(e.modelValue));~y?(n.selectedLabel=o[y].label,Pe(y)):n.selectedLabel=`${e.modelValue}`}else n.selectedLabel="",n.previousValue=void 0;ye(),ee()};return ze(L,o=>{var y,I;t("visible-change",o),o?(I=(y=R.value).update)==null||I.call(y):(n.displayInputValue="",n.previousQuery=null,Q(""))}),ze(()=>e.modelValue,(o,y)=>{var I;(!o||o.toString()!==n.previousValue)&&S(),!Wt(o,y)&&e.validateEvent&&((I=r==null?void 0:r.validate)==null||I.call(r,"change").catch(W=>Hl()))},{deep:!0}),ze(()=>e.options,()=>{const o=m.value;(!o||o&&document.activeElement!==o)&&S()},{deep:!0}),ze(D,()=>oe(f.value.resetScrollTop)),ze(()=>q.value,o=>{o||ct()}),Mt(()=>{S()}),fl(U,ne),{collapseTagSize:ge,currentPlaceholder:Ae,expanded:L,emptyText:_,popupHeight:le,debounce:C,filteredOptions:D,iconComponent:z,iconReverse:J,inputWrapperStyle:be,popperSize:g,dropdownMenuVisible:q,hasModelValue:N,shouldShowPlaceholder:Ee,selectDisabled:G,selectSize:fe,showClearBtn:te,states:n,tagMaxWidth:ue,nsSelectV2:a,nsInput:s,calculatorRef:$,controlRef:d,inputRef:m,menuRef:f,popper:R,selectRef:U,selectionRef:u,popperRef:Ie,validateState:V,validateIcon:A,showTagList:H,collapseTagList:pe,debouncedOnInputChange:w,deleteTag:Le,getLabel:j,getValueKey:B,handleBlur:et,handleClear:lt,handleClickOutside:at,handleDel:vt,handleEsc:tt,handleFocus:Se,handleMenuEnter:c,handleResize:ne,toggleMenu:je,scrollTo:v,onInput:ht,onKeyboardNavigate:ot,onKeyboardSelect:Vt,onSelect:ke,onHover:Pe,onUpdateInputValue:nt,handleCompositionStart:Re,handleCompositionEnd:qe,handleCompositionUpdate:He}},Ko=De({name:"ElSelectV2",components:{ElSelectMenu:Ao,ElTag:_l,ElTooltip:Gl,ElIcon:Kt},directives:{ClickOutside:Ul,ModelText:Bl},props:Eo,emits:[Ye,Xt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const l=b(()=>{const{modelValue:s,multiple:i}=e,r=i?[]:void 0;return zt(s)?i?s:r:i?r:s}),a=Fo(it({...Rt(e),modelValue:l}),t);return ml(hn,{props:it({...Rt(e),height:a.popupHeight,modelValue:l}),popper:a.popper,onSelect:a.onSelect,onHover:a.onHover,onKeyboardNavigate:a.onKeyboardNavigate,onKeyboardSelect:a.onKeyboardSelect}),{...a,modelValue:l}}}),Wo={key:0},Ho=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],qo=["textContent"],Go=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Uo=["textContent"];function jo(e,t,l,a,s,i){const r=Fe("el-tag"),n=Fe("el-tooltip"),p=Fe("el-icon"),g=Fe("el-select-menu"),d=tl("model-text"),m=tl("click-outside");return xe((M(),X("div",{ref:"selectRef",class:O([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=de((...f)=>e.toggleMenu&&e.toggleMenu(...f),["stop"])),onMouseenter:t[25]||(t[25]=f=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=f=>e.states.comboBoxHovering=!1)},[Oe(n,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=f=>e.states.inputValue=e.states.displayInputValue)},{default:Z(()=>[x("div",{ref:"selectionRef",class:O([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(M(),X("div",Wo,[We(e.$slots,"prefix")])):he("v-if",!0),e.multiple?(M(),X("div",{key:1,class:O(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(M(),X(Je,{key:0},[(M(!0),X(Je,null,St(e.showTagList,f=>(M(),X("div",{key:e.getValueKey(f),class:O(e.nsSelectV2.e("selected-item"))},[Oe(r,{closable:!e.selectDisabled&&!(f!=null&&f.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:R=>e.deleteTag(R,f)},{default:Z(()=>[x("span",{class:O(e.nsSelectV2.e("tags-text")),style:Me({maxWidth:`${e.tagMaxWidth}px`})},Te(f==null?void 0:f.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),x("div",{class:O(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(M(),me(r,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Z(()=>[e.collapseTagsTooltip?(M(),me(n,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Z(()=>[x("span",{class:O(e.nsSelectV2.e("tags-text")),style:Me({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Te(e.modelValue.length-e.maxCollapseTags),7)]),content:Z(()=>[x("div",{class:O(e.nsSelectV2.e("selection"))},[(M(!0),X(Je,null,St(e.collapseTagList,f=>(M(),X("div",{key:e.getValueKey(f),class:O(e.nsSelectV2.e("selected-item"))},[Oe(r,{closable:!e.selectDisabled&&!f.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:R=>e.deleteTag(R,f)},{default:Z(()=>[x("span",{class:O(e.nsSelectV2.e("tags-text")),style:Me({maxWidth:`${e.tagMaxWidth}px`})},Te(e.getLabel(f)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(M(),X("span",{key:1,class:O(e.nsSelectV2.e("tags-text")),style:Me({maxWidth:`${e.tagMaxWidth}px`})},"+ "+Te(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):he("v-if",!0)],2)],64)):(M(!0),X(Je,{key:1},St(e.states.cachedOptions,f=>(M(),X("div",{key:e.getValueKey(f),class:O(e.nsSelectV2.e("selected-item"))},[Oe(r,{closable:!e.selectDisabled&&!f.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:R=>e.deleteTag(R,f)},{default:Z(()=>[x("span",{class:O(e.nsSelectV2.e("tags-text")),style:Me({maxWidth:`${e.tagMaxWidth}px`})},Te(e.getLabel(f)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),x("div",{class:O([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:Me(e.inputWrapperStyle)},[xe(x("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:O([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...f)=>e.onUpdateInputValue&&e.onUpdateInputValue(...f)),onFocus:t[1]||(t[1]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[2]||(t[2]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onInput:t[3]||(t[3]=(...f)=>e.onInput&&e.onInput(...f)),onCompositionstart:t[4]||(t[4]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[5]||(t[5]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[6]||(t[6]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onKeydown:[t[7]||(t[7]=Ce(de(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=Ce(de(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=Ce(de((...f)=>e.onKeyboardSelect&&e.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),t[10]||(t[10]=Ce(de((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"])),t[11]||(t[11]=Ce(de((...f)=>e.handleDel&&e.handleDel(...f),["stop"]),["delete"]))]},null,42,Ho),[[d,e.states.displayInputValue]]),e.filterable?(M(),X("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O(e.nsSelectV2.e("input-calculator")),textContent:Te(e.states.displayInputValue)},null,10,qo)):he("v-if",!0)],6)],2)):(M(),X(Je,{key:2},[x("div",{class:O([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[xe(x("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:O(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...f)=>e.handleCompositionStart&&e.handleCompositionStart(...f)),onCompositionupdate:t[13]||(t[13]=(...f)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...f)),onCompositionend:t[14]||(t[14]=(...f)=>e.handleCompositionEnd&&e.handleCompositionEnd(...f)),onFocus:t[15]||(t[15]=(...f)=>e.handleFocus&&e.handleFocus(...f)),onBlur:t[16]||(t[16]=(...f)=>e.handleBlur&&e.handleBlur(...f)),onInput:t[17]||(t[17]=(...f)=>e.onInput&&e.onInput(...f)),onKeydown:[t[18]||(t[18]=Ce(de(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=Ce(de(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=Ce(de((...f)=>e.onKeyboardSelect&&e.onKeyboardSelect(...f),["stop","prevent"]),["enter"])),t[21]||(t[21]=Ce(de((...f)=>e.handleEsc&&e.handleEsc(...f),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...f)=>e.onUpdateInputValue&&e.onUpdateInputValue(...f))},null,42,Go),[[d,e.states.displayInputValue]])],2),e.filterable?(M(),X("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:O([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:Te(e.states.displayInputValue)},null,10,Uo)):he("v-if",!0)],64)),e.shouldShowPlaceholder?(M(),X("span",{key:3,class:O([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},Te(e.currentPlaceholder),3)):he("v-if",!0),x("span",{class:O(e.nsSelectV2.e("suffix"))},[e.iconComponent?xe((M(),me(p,{key:0,class:O([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z(()=>[(M(),me(_e(e.iconComponent)))]),_:1},8,["class"])),[[Yt,!e.showClearBtn]]):he("v-if",!0),e.showClearBtn&&e.clearIcon?(M(),me(p,{key:1,class:O([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:de(e.handleClear,["prevent","stop"])},{default:Z(()=>[(M(),me(_e(e.clearIcon)))]),_:1},8,["class","onClick"])):he("v-if",!0),e.validateState&&e.validateIcon?(M(),me(p,{key:2,class:O([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z(()=>[(M(),me(_e(e.validateIcon)))]),_:1},8,["class"])):he("v-if",!0)],2)],2)]),content:Z(()=>[Oe(g,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Z(f=>[We(e.$slots,"default",Sn(wn(f)))]),empty:Z(()=>[We(e.$slots,"empty",{},()=>[x("p",{class:O(e.nsSelectV2.e("empty"))},Te(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[m,e.handleClickOutside,e.popperRef]])}var Pt=rt(Ko,[["render",jo],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Pt.install=e=>{e.component(Pt.name,Pt)};const Qo=Pt,la=Qo;export{ta as D,_l as E,ea as F,fo as a,mo as b,xo as c,Jo as d,ho as e,_o as f,la as g,Jt as s,xl as t,po as v};
